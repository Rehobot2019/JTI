/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/* == malihu jquery custom scrollbar plugin == Version: 3.1.3, License: MIT License (MIT) */
!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&N(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=q.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=Y.call(this,c[0],"y"),c[1]=Y.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=oe()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",V(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",V(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&N(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){{o.data(a)}X.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),X.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),K(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),K(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=ee(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(N(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),V(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),V(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),R.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}L.call(this),P.call(this),i.advanced.autoScrollOnFocus&&z.call(this),i.scrollButtons.enable&&H.call(this),i.keyboard.enable&&U.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!W()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),K(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),K(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=W()&&t.target.ownerDocument!==top.document?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;V(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,v=u.advanced.extraDraggableSelectors?e(!W()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!W()||top.document);p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),Z(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),N(l),n=e(this);var a=n.offset(),d=O(o)[0]-a.top,f=O(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f),C(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;o(i,r,a,l)}),e(document).add(v).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;if(i===a&&r===l)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(e){n&&(C(n,"active",u.autoExpandScrollbar),n=null),c=!1,s&&(document.onselectstart=null),t(!0)})},D=function(){function o(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if($(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),R.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],A,n,"y","all",!0),B.overflowed[1]&&s(w[1],A,n,"x",L,!0)}}function i(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),N(y),p=G();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],R=[]}function r(e){if($(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],R[R.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&V(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],R=[],A=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,F(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(e){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(e){t||(i&&(i=0,n("off",null)),c=!1)})},R=function(){function t(t,a){if(N(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=t.deltaX||t.deltaY||a;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),V(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},W=function(e){var t=null;if(e){try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t}try{var o=top.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},L=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){N(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-.9*u*l.width()}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-.9*u*l.height()}V(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(o){var a=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;a.is(n.advanced.autoScrollOnFocus)&&(N(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[te(a)[0],te(a)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-a.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-a.outerWidth(!1)],c="yx"!==n.axis||i[0]||i[1]?"all":"none";"x"===n.axis||i[0]||V(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s}),"y"===n.axis||i[1]||V(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(t){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,F(t,e,o)}if(a.preventDefault(),Z(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},U=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||F(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){N(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},F=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),V(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),K(f,"step"),N(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],N(t),ee(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},q=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},Y=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?te(m)[1]:te(m)[0];case"string":case"number":if(ee(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&ee(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?te(m)[1]:te(m)[0]}return e(t).length?"x"===o?te(e(t))[1]:te(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);

return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void K(f[0],"autoUpdate")):void o()},j=function(e,t,o){return Math.round(e/t)*t-o},N=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){J.call(this)})},V=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?q.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?q.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=j(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),Q(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),(s.tweenRunning||!(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0]))&&Q(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},Q=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=G()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=G(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},K=function(e,t){try{delete e[t]}catch(o){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},$=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).load(function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+te(n)[0]>=0&&a[0]+te(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+te(n)[1]>=0&&a[1]+te(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});;
/*  jQuery Nice Select - v1.0
    https://github.com/hernansartorio/jquery-nice-select
    Made by HernÃ¡n Sartorio  */
!function(e){e.fn.niceSelect=function(t){function s(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var s=t.next(),n=t.find("option"),i=t.find("option:selected");s.find(".current").html(i.data("display")||i.text()),n.each(function(t){var n=e(this),i=n.data("display");s.find("ul").append(e("<li></li>").attr("data-value",n.val()).attr("data-display",i||null).addClass("option"+(n.is(":selected")?" selected":"")+(n.is(":disabled")?" disabled":"")).html(n.text()))})}if("string"==typeof t)return"update"==t?this.each(function(){var t=e(this),n=e(this).next(".nice-select"),i=n.hasClass("open");n.length&&(n.remove(),s(t),i&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=e(this),s=e(this).next(".nice-select");s.length&&(s.remove(),t.css("display",""))}),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide(),this.each(function(){var t=e(this);t.next().hasClass("nice-select")||s(t)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(t){var s=e(this);e(".nice-select").not(s).removeClass("open"),s.toggleClass("open"),s.hasClass("open")?(s.find(".option"),s.find(".focus").removeClass("focus"),s.find(".selected").addClass("focus")):s.focus()}),e(document).on("click.nice_select",function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var s=e(this),n=s.closest(".nice-select");n.find(".selected").removeClass("selected"),s.addClass("selected");var i=s.data("display")||s.text();n.find(".current").text(i),n.prev("select").val(s.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(t){var s=e(this),n=e(s.find(".focus")||s.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return s.hasClass("open")?n.trigger("click"):s.trigger("click"),!1;if(40==t.keyCode){if(s.hasClass("open")){var i=n.nextAll(".option:not(.disabled)").first();i.length>0&&(s.find(".focus").removeClass("focus"),i.addClass("focus"))}else s.trigger("click");return!1}if(38==t.keyCode){if(s.hasClass("open")){var l=n.prevAll(".option:not(.disabled)").first();l.length>0&&(s.find(".focus").removeClass("focus"),l.addClass("focus"))}else s.trigger("click");return!1}if(27==t.keyCode)s.hasClass("open")&&s.trigger("click");else if(9==t.keyCode&&s.hasClass("open"))return!1});var n=document.createElement("a").style;return n.cssText="pointer-events:auto","auto"!==n.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery);;
// Generated by CoffeeScript 1.6.2
/*
jQuery Waypoints - v2.0.3
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);;
/*!
* jquery.counterup.js 1.0
*
* Copyright 2013, Benjamin Intal http://gambit.ph @bfintal
* Released under the GPL v2 License
*
* Date: Nov 26, 2013
*/(function(e){"use strict";e.fn.counterUp=function(t){var n=e.extend({time:400,delay:10},t);return this.each(function(){var t=e(this),r=n,i=function(){var e=[],n=r.time/r.delay,i=t.text(),s=/[0-9]+,[0-9]+/.test(i);i=i.replace(/,/g,"");var o=/^[0-9]+$/.test(i),u=/^[0-9]+\.[0-9]+$/.test(i),a=u?(i.split(".")[1]||[]).length:0;for(var f=n;f>=1;f--){var l=parseInt(i/n*f);u&&(l=parseFloat(i/n*f).toFixed(a));if(s)while(/(\d+)(\d{3})/.test(l.toString()))l=l.toString().replace(/(\d+)(\d{3})/,"$1,$2");e.unshift(l)}t.data("counterup-nums",e);t.text("0");var c=function(){t.text(t.data("counterup-nums").shift());if(t.data("counterup-nums").length)setTimeout(t.data("counterup-func"),r.delay);else{delete t.data("counterup-nums");t.data("counterup-nums",null);t.data("counterup-func",null)}};t.data("counterup-func",c);setTimeout(t.data("counterup-func"),r.delay)};t.waypoint(i,{offset:"100%",triggerOnce:!0})})}})(jQuery);;
/*!
 * Isotope PACKAGED v3.0.4
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2017 Metafizzy
 */

!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function u(t,e,o){var n,s="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void r(s+" is not a valid method");var l=d.apply(h,o);n=void 0===n?l:n}),void 0!==n?n:t}function h(t,e){t.each(function(t,o){var n=a.data(o,i);n?(n.option(e),n._init()):(n=new s(o,e),a.data(o,i,n))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=n.call(arguments,1);return u(this,t,e)}return h(this,t),this},o(a))}function o(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return o(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},o=i[t]=i[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},o=i[t]=i[t]||{};return o[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=i.indexOf(e);return o!=-1&&i.splice(o,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=0,n=i[o];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];n;){var r=s&&s[n];r&&(this.off(t,n),delete s[n]),n.apply(this,e),o+=r?0:1,n=i[o]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<h;e++){var i=u[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function n(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=o(e);s.isBoxSizeOuter=r=200==t(n.width),i.removeChild(e)}}function s(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=o(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,l=0;l<h;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&r,x=t(s.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var o=e[i],n=o+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,o){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!o)return void n.push(t);e(t,o)&&n.push(t);for(var i=t.querySelectorAll(o),s=0;s<i.length;s++)n.push(i[s])}}),n},i.debounceMethod=function(t,e,i){var o=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];t&&clearTimeout(t);var e=arguments,s=this;this[n]=setTimeout(function(){o.apply(s,e),delete s[n]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var s=i.toDashed(n),r="data-"+s,a=document.querySelectorAll("["+r+"]"),u=document.querySelectorAll(".js-"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+"-options",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(o&&o.error("Error parsing "+r+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,n,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],h={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=o.prototype=Object.create(t.prototype);d.constructor=o,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var o=h[i]||i;e[o]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=t[e?"left":"right"],n=t[i?"top":"bottom"],s=this.layout.size,r=o.indexOf("%")!=-1?parseFloat(o)/100*s.width:parseInt(o,10),a=n.indexOf("%")!=-1?parseFloat(n)/100*s.height:parseInt(n,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[n];e[s]=this.getXValue(a),e[r]="";var u=o?"paddingTop":"paddingBottom",h=o?"top":"bottom",d=o?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),s=parseInt(e,10),r=n===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-o,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop");return t=i?t:-t,e=o?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+n(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,o,n,s){return e(t,i,o,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,o,n){"use strict";function s(t,e){var i=o.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var n=++l;this.element.outlayerGUID=n,f[n]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],o=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var n=m[o]||1;return i*n}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace="outlayer",s.Item=n,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=s.prototype;o.extend(c,e.prototype),c.option=function(t){o.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0;n<e.length;n++){var s=e[n],r=new i(s,this);o.push(r)}return o},c._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var o,n=this.options[t];n?("string"==typeof n?o=this.element.querySelector(n):n instanceof HTMLElement&&(o=n),this[t]=o?i(o)[e]:n):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var o=this._getItemLayoutPosition(t);o.item=t,o.isInstant=e||t.isLayoutInstant,i.push(o)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,o,n){o?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}function o(){r++,r==s&&i()}var n=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,o)})},c.dispatchEvent=function(t,e,i){var o=e?[e].concat(i):i;if(this.emitEvent(t,o),h)if(this.$element=this.$element||h(this.element),e){var n=h.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){o.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,n=i(t),s={left:e.left-o.left-n.marginLeft,top:e.top-o.top-n.marginTop,right:o.right-e.right-n.marginRight,bottom:o.bottom-e.bottom-n.marginBottom};return s},c.handleEvent=o.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=o.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),o.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=o.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=o.extend({},s.defaults),o.extend(i.defaults,e),i.compatOptions=o.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(n),o.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=n,s}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),o=i._create;i._create=function(){this.id=this.layout.itemGUID++,o.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var n=i.destroy;return i.destroy=function(){n.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var o=i.prototype,n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return n.forEach(function(t){o[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},o.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=Object.create(o),n.prototype.constructor=n,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var o=i.prototype;return o._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},o.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var o=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,s=n/o,r=o-n%o,a=r&&r<1?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},o.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,o=e(i);this.containerWidth=o&&o.innerWidth},o._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var n=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",s=this[n](o,t),r={x:this.columnWidth*s.col,y:s.y},a=s.y+t.size.outerHeight,u=o+s.col,h=s.col;h<u;h++)this.colYs[h]=a;return r},o._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},o._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;o<i;o++)e[o]=this._getColGroupY(o,t);return e},o._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},o._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,o=t>1&&i+t>this.cols;i=o?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},o._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this._getOption("originLeft"),s=n?o.left:o.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?o.top:o.bottom)+i.outerHeight,l=a;l<=u;l++)this.colYs[l]=Math.max(d,this.colYs[l])},o._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},o._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),o=i.prototype,n={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)n[s]||(o[s]=e.prototype[s]);var r=o.measureColumns;o.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=o._getOption;return o._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,o,n,s,r,a){return e(t,i,o,n,s,r,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,o,n,s,r){function a(t,e){return function(i,o){for(var n=0;n<t.length;n++){var s=t[n],r=i.sortData[s],a=o.sortData[s];if(r>a||r<a){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var o=t[i];o.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?n.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&o&&n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}var e,i,o,n=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){o=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],o=[],n=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?o.push(a):u||a.isHidden||n.push(a)}}return{matches:i,needReveal:o,needHide:n}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return o(e.element,t)}},l.updateSortData=function(t){
var e;t?(t=n.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){var o=t[i];o.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),s=n&&n[1],r=e(s,o),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){if(this.options.sortBy){var t=n.makeArray(this.options.sortBy);this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory));var e=a(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)}},l._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;i<n;i++)o=e[i],this.element.appendChild(o.element);var s=this._filter(e).matches;for(i=0;i<n;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<n;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=n.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,o=0;i&&o<i;o++){var s=e[o];n.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.apply(this,e);return this.options.transitionDuration=i,o},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});;
/**
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * @author Ariel Flesler
 * @version 1.4.3.1
 */

(function ($) {

    $.fn.topLink = function (settings) {
        settings = jQuery.extend({
            min: 1,
            fadeSpeed: 200,
            ieOffset: 50
        }, settings);
        return this.each(function () {
            //listen for scroll
            var el = $(this);
            el.css('display', 'none'); //in case the user forgot
            $(window).scroll(function () {
                if (!jQuery.support.hrefNormalized) {
                    el.css({
                        //'position': 'absolute',
                        //'top': $j(window).scrollTop() + $j(window).height() - settings.ieOffset
                    });
                }
                if ($(window).scrollTop() >= settings.min) {
                    el.fadeIn(settings.fadeSpeed);
                } else {
                    el.fadeOut(settings.fadeSpeed);
                }
            });
        });
    };

    $(document).ready(function(){
        var pathname = window.location.pathname;
        var pieces = pathname.split("/");      
        $("footer .footertop .social-media-icons").append('<a href="#Mainwrapper" id="auto-top-link">Go to top</a>');
        $('#auto-top-link').topLink({
            min: 1,
            fadeSpeed: 500
        });

        //smoothscroll
        $('#auto-top-link').click(function (e) {
            e.preventDefault();
            var offset = $("body").offset();
            $("html,body").animate({
                scrollTop: offset.top,
                scrollLeft: offset.left
            });
        });

    });
})(jQuery);;
/**
 * Created by nirbhav.gupta on 30-06-2015.
 */
var file_path_loc;
var sizeIn;
jQuery(function() {
    
    jQuery('a[href]').each(function() {
       if((C = jQuery(this).attr('href').toLowerCase().match(/[.](doc|xls|xlsx|pdf|pptx|docx|ppt)$/))) {
           jQuery(this).addClass("filelink");
       }
    });
    
    
    jQuery(document).on("mouseover","a.filelink", function() 
    { 
            if(jQuery(this).hasClass("ext-file")){
                return false;
            }
            var file_loc = jQuery(this).attr("href");
            var file_type = jQuery(this).attr("href").split('.').pop();
            var arr = [ "pdf", "doc", "docx", "xlsx", "xls", "ppt", "pptx", "PDF" ];
            var sizeinfo;
            if( jQuery.inArray( file_type , arr ) !== -1 ){
                var size = jQuery(this).prop('type');
                if( size != '' ){
                    var file_size = size.split('=');
                    if( file_size[1] > 900000 ){
                         sizeIn = fileSize(file_size[1],'mb');
                    }else{
                         sizeIn = fileSize(file_size[1],'kb');
                    }

                    var pathname = window.location.pathname;
                    var pieces = pathname.split("/");
                    
                    var msg = file_type.toUpperCase()+', '+ sizeIn +', opens in a new window';
                    jQuery(this).attr('title',msg);
                }else {
                    if (file_path_loc != file_loc ) {
                        file_path_loc = file_loc;
                        var req = new XMLHttpRequest();
                        req.open('HEAD', file_loc, false);
                        req.send(null);
                        var headers_size = req.getResponseHeader("Content-Length");
                        sizeinfo = headers_size;
                        if (sizeinfo > 900000) {
                             sizeIn = fileSize(sizeinfo, 'mb');
                        } else {
                             sizeIn = fileSize(sizeinfo, 'kb');
                        }
                        var pathname = window.location.pathname;
                        var pieces = pathname.split("/");                        
                        var msg = file_type.toUpperCase()+', '+ sizeIn +', opens in a new window';
                        jQuery(this).attr('title', msg);
                        jQuery(this).attr('target', '_blank');
                    }else{
                        var pathname = window.location.pathname;
                        var pieces = pathname.split("/");
                        
                        var msg = file_type.toUpperCase()+', '+ sizeIn +', opens in a new window';
                        jQuery(this).attr('title', msg);
                        jQuery(this).attr('target', '_blank');
					}
                }
            }
        });



        
});


function fileSize(bytes, unit) {

    if ((!unit && bytes >= 1 << 30) || unit == "GB")
        return number_format(bytes / (1 << 30), 2) + "GB";

    if ((!unit && bytes >= 1 << 20) || unit == "mb")
        return number_format(bytes / (1 << 20), 1) + "MB";

    if ((!unit && bytes >= 1 << 10) || unit == "kb")
        return number_format(bytes / (1 << 10), 0) + "KB";

    return number_format(bytes) + " bytes";
}

function number_format(number, decimals, dec_point, thousands_sep) {
    //  discuss at: http://phpjs.org/functions/number_format/
    // original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)
    // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // improved by: davook
    // improved by: Brett Zamir (http://brett-zamir.me)
    // improved by: Brett Zamir (http://brett-zamir.me)
    // improved by: Theriault
    // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // bugfixed by: Michael White (http://getsprink.com)
    // bugfixed by: Benjamin Lupton
    // bugfixed by: Allan Jensen (http://www.winternet.no)
    // bugfixed by: Howard Yeend
    // bugfixed by: Diogo Resende
    // bugfixed by: Rival
    // bugfixed by: Brett Zamir (http://brett-zamir.me)
    //  revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)
    //  revised by: Luke Smith (http://lucassmith.name)
    //    input by: Kheang Hok Chin (http://www.distantia.ca/)
    //    input by: Jay Klehr
    //    input by: Amir Habibi (http://www.residence-mixte.com/)
    //    input by: Amirouche
    //   example 1: number_format(1234.56);
    //   returns 1: '1,235'
    //   example 2: number_format(1234.56, 2, ',', ' ');
    //   returns 2: '1 234,56'
    //   example 3: number_format(1234.5678, 2, '.', '');
    //   returns 3: '1234.57'
    //   example 4: number_format(67, 2, ',', '.');
    //   returns 4: '67,00'
    //   example 5: number_format(1000);
    //   returns 5: '1,000'
    //   example 6: number_format(67.311, 2);
    //   returns 6: '67.31'
    //   example 7: number_format(1000.55, 1);
    //   returns 7: '1,000.6'
    //   example 8: number_format(67000, 5, ',', '.');
    //   returns 8: '67.000,00000'
    //   example 9: number_format(0.9, 0);
    //   returns 9: '1'
    //  example 10: number_format('1.20', 2);
    //  returns 10: '1.20'
    //  example 11: number_format('1.20', 4);
    //  returns 11: '1.2000'
    //  example 12: number_format('1.2000', 3);
    //  returns 12: '1.200'
    //  example 13: number_format('1 000,50', 2, '.', ' ');
    //  returns 13: '100 050.00'
    //  example 14: number_format(1e-8, 8, '.', '');
    //  returns 14: '0.00000001'

    number = (number + '')
        .replace(/[^0-9+\-Ee.]/g, '');
    var n = !isFinite(+number) ? 0 : +number,
        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
        sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
        dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
        s = '',
        toFixedFix = function(n, prec) {
            var k = Math.pow(10, prec);
            return '' + (Math.round(n * k) / k)
                    .toFixed(prec);
        };
    // Fix for IE parseFloat(0.55).toFixed(0) = 0;
    s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))
        .split('.');
    if (s[0].length > 3) {
        s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
    }
    if ((s[1] || '')
            .length < prec) {
        s[1] = s[1] || '';
        s[1] += new Array(prec - s[1].length + 1)
            .join('0');
    }
    return s.join(dec);
}
;
var _cookiePlaceHolderSelector = "body"; // placeholder for cookie consent data and accept button
var _cookieWrapper = "_cookieConsentWrapper";
var _cookieName = "_cookieConsent"; // name of the cookie which will be used to store flag if user has clicked on i accept button
var _cookieTimeout = 16; // Time in SECONDS after which the cookie consent will disappear

var pathname = window.location.pathname;
var pieces = pathname.split("/");

var _cookieContent = '<p>This site uses cookies. To see how cookies are used, please review our <a href="/site-services/cookies">cookie notice</a>. If you agree to our use of cookies, please <input name="cookieagree" id="cookie-agree" onclick="setCookies();" value="continue" type="button"> to use our site.</p>';

// disclaimer content
document.write('<style type="text/css">');
document.write('#' + _cookieWrapper + '{font-size: 18px; padding:10px;margin:0 auto;line-height: 24px; width:100%; position: fixed; bottom:0; z-index:9999; background:#122632; text-align: center;}');
document.write('#' + _cookieWrapper + ' p{padding-bottom:0;margin:0 auto; color:#fff;}');
document.write('#' + _cookieWrapper + ' a{}');
document.write('#' + _cookieWrapper + ' a:hover{}');
document.write('#' + _cookieWrapper + ' input{cursor:pointer; padding:0;border-left:0px; border-right:0px; border-top:0px;background:none;}');
document.write('#' + _cookieWrapper + ' input:hover{}');
document.write('</style>');

function setCookies(name, value, hours) {

    name = typeof name !== 'undefined' ? name : _cookieName;
    value = typeof value !== 'undefined' ? value : 'yes';
    hours = typeof hours !== 'undefined' ? hours : 8760;
    var expire = "";
    if (hours != null) {
        expire = new Date((new Date()).getTime() + hours * 86400000);
        expire = "; expires=" + expire.toGMTString();
    }
    document.cookie = name + "=" + escape(value) + expire + "; path=/";
    jQuery("#" + _cookieWrapper).slideUp().promise().done(function() {
  });
  
/*-------------------------Setting of Section Div height Etc on cookie wrapper close Ends-----------------------*/ 
}

function GetCookie(name) {
    var cookieValue = "";
    var search = name + "=";
    if (document.cookie.length > 0) {
        offset = document.cookie.indexOf(search);
        if (offset != -1) {
            offset += search.length;
            end = document.cookie.indexOf(";", offset);
            if (end == -1) end = document.cookie.length;
            cookieValue = unescape(document.cookie.substring(offset, end));
        }
    }
    return cookieValue;
}

function checkCookies() {
    var cval = GetCookie(_cookieName);
    if (cval == "yes") {
        jQuery("#" + _cookieWrapper).css("display", "none");
    } else {
        jQuery("#" + _cookieWrapper).slideDown(800);
        startTimeout();
    }
}
function startTimeout(){
	setTimeout(function(){
		jQuery("#" + _cookieWrapper).slideUp(600).promise().done(function() {
  });
    },_cookieTimeout*1000);
}
function cookieSetup() {
    wrapperDiv = '<div id="' + _cookieWrapper + '">' + _cookieContent + '</div>';
    jQuery(wrapperDiv).insertBefore(jQuery(_cookiePlaceHolderSelector));
    checkCookies();
}
window.onload = cookieSetup;;
jQuery(document).ready(function () {

    if (jQuery(window).width() > 1024) {
        var scrolled = jQuery(this).scrollTop();
         if (scrolled > 10) {
            jQuery('header').addClass('active');
        }
    }else{
        var scrolled = jQuery(this).scrollTop();
         if (scrolled > 5) {
            jQuery('header').addClass('active');
        }
    }

    if (jQuery(window).width() > 1024) {
        jQuery('.mainmegamenusection ul.we-mega-menu-ul > li:not(:last-child)').hover(function () {
            //jQuery(this).find('ul').show();
            jQuery(this).addClass('hvactivelink');
           jQuery(this).find('.we-mega-menu-submenu').css("display","block");

        },
            function () {
                //jQuery(this).find('ul').hide();
                jQuery(this).removeClass('hvactivelink');
                jQuery(this).find('.we-mega-menu-submenu').css("display","none");
            }
        );
    }
    if (jQuery(window).width() <= 1180) {
        jQuery('.path-frontpage .region-we-mega-menu .we-mega-menu-ul li').first().addClass('open');
        jQuery('.path-frontpage .region-we-mega-menu .we-mega-menu-ul li').first().find('.we-mega-menu-submenu').show();
    }
    



    jQuery(".mainmegamenusection li.level1").each(function() {
        if(jQuery(this).hasClass('active')){
            jQuery(this).closest('a').addClass('is-active');        
        }
    });
    //jQuery('.mainmegamenusection a.is-active').attr('href','#');
    jQuery('a.is-active').click(function(e) {
        e.stopPropagation();
        return false;
    });


    /*=======Header navigation JS STARTS========*/
    if (jQuery(window).width() > 1024) {
        jQuery(window).on('scroll', function () {
            var scrolled = jQuery(this).scrollTop();
            if (scrolled > 10) {
                jQuery('#header').addClass('active');

            } else {
                if(!jQuery('#header.active .header-right .locationlink').hasClass('active')){
                    if(!jQuery('body').hasClass('nobanner')){
                        jQuery('#header').removeClass('active');
                    }                    
                }            
            }
            jQuery('.ui-autocomplete').css('display','none');
        });
        

    }else{
       jQuery(window).on('scroll', function () {
            var scrolled = jQuery(this).scrollTop();
            if (scrolled > 10 && !jQuery('.Mainwrapper').hasClass('mm-slideout')) {
                jQuery('#header').addClass('active');

            } else {
                if(!jQuery('#header.active .header-right .locationlink').hasClass('active')){
                    if(!jQuery('body').hasClass('nobanner')){
                        jQuery('#header').removeClass('active');
                    }
                }            
            }
        }); 
    }
    
    

    set_megamenuWidth_fn(); 
    jQuery( window ).resize(function() {
        set_megamenuWidth_fn(); 
    });

    
    jQuery('.megamenuSection ul > li.level0').each(function (){
        var description = jQuery(this).find('.field--name-field-description').html();
        if(description != '' || description != 'undefined'){
            jQuery(this).closest(':visible').children('ul').prepend('<div class="description"> ' + description + '</div>');
        }
    });
    
    
    jQuery(".megamenuSection ul li.level1 > a").each(function() {
        if(jQuery(this).hasClass('is-active')){
            jQuery(this).parents('li.level0').addClass('activemenu');          
        }
    });
    
    /*====JS for Left navigation====*/
    jQuery('.leftNavSection ul li a.is-active').attr('href','#');    
    jQuery(".leftNavSection ul li.level2 > a").each(function() {
        if(jQuery(this).hasClass('is-active')){
            jQuery(this).parents('li.level0').addClass('activemenu');
            jQuery(this).parents('li.level1').addClass('activemenu');            
        }
    });
    jQuery(".leftNavSection ul li.level2").each(function() {
        if(jQuery(this).hasClass('active')){
            jQuery(this).parents('li.level0').addClass('activemenu');
            jQuery(this).parents('li.level1').addClass('activemenu');            
            jQuery(this).find('a').addClass('is-active');            
        }
    });
    jQuery(".leftNavSection li.level1.active > a").addClass('is-active');
    jQuery(".leftNavSection ul li.level1 > a").each(function() {
        if(jQuery(this).hasClass('is-active')){
            jQuery(this).parents('li.level0').addClass('activemenu');          
        }
    });
    jQuery(".leftNavSection ul li.level1").each(function() {
        if(jQuery(this).hasClass('active')){
            jQuery(this).parents('li.level0').addClass('activemenu');          
        }
    });
    jQuery(".leftNavSection ul li.level0 > a").each(function() {
        if(jQuery(this).hasClass('is-active')){
            jQuery(this).parents('li.level0').addClass('activemenu');          
        }
    });
    jQuery(".leftNavSection ul li.level0").each(function() {
        if(jQuery(this).hasClass('active')){
            jQuery(this).parents('li.level0').addClass('activemenu');          
        }
    });
    var activeSection = jQuery('.leftNavSection ul li.level0.activemenu > a').html();
    jQuery('.leftNavSection').prepend("<div class='activeSection'>"+ activeSection +"<span class='arr'></span></div>");


    if(jQuery(".leftnavigationactive").length > 0){
        var headerheight = jQuery( "#header" ).height(); 
        var leftnavigationactive_height = jQuery('.leftNavSection ').height();
        var element_position = jQuery('.leftnavigationactive').offset().top;
        var sdfds = ((leftnavigationactive_height + element_position) - (headerheight + 50));

        jQuery(window).on('scroll', function() {
            var y_scroll_pos = jQuery(window).scrollTop();;
            var scroll_pos_test = sdfds;
            jQuery(".main-wrapper .leftNavSection").find('.activeSection').removeClass('activeccx');
            if(y_scroll_pos > scroll_pos_test) {
                jQuery('.leftNavSection').addClass('stickyleftnav');
                jQuery('.leftnavigationactive').css('height',leftnavigationactive_height);
                jQuery(".main-wrapper .leftNavSection").find('.activeSection').next('ul').hide();
            }else{
                jQuery('.leftNavSection').removeClass('stickyleftnav');
                jQuery('.leftnavigationactive').css('height','auto');
                jQuery(".main-wrapper .leftNavSection").find('.activeSection').next('ul').show();
                jQuery(".main-wrapper .leftNavSection").find('.activeSection').removeClass('activeccx');
            }
        });
    }   

    jQuery(".main-wrapper .leftNavSection").click(function () {
        if(jQuery(".main-wrapper .leftNavSection").hasClass('stickyleftnav')){
            if (jQuery(this).find('.activeSection').hasClass('activeccx')) {
                jQuery(this).find('.activeSection').removeClass('activeccx');
                jQuery(this).find('.activeSection').next('ul').hide();            
            } else {
                jQuery(this).find('.activeSection').addClass('activeccx');
                jQuery(this).find('.activeSection').next('ul').show();
            }
        }
    });

    jQuery(".main-wrapper .leftNavSection ul").click(function (e) {
            e.stopPropagation();
        
    });

    jQuery('.leftNavSection ul li.level0 ul li.level1').each(function () {
        if(jQuery(this).children('ul').length){
            jQuery(this).append("<span class='arr'></span>");
        }
        if(jQuery(this).hasClass('activemenu')){
            jQuery(this).find('.arr').addClass('activecc');
            jQuery(this).prev('ul').slideDown();
        }
        if(jQuery(this).hasClass('active')){
            jQuery(this).find('.arr').addClass('activecc');
            jQuery(this).prev('ul').slideDown();
        }
    });

    jQuery('.leftNavSection ul li.level0 ul li.level1 > a.is-active').each(function () {
            jQuery(this).next().next('.arr').addClass('activecc');
            jQuery(this).next('ul').slideDown();
    });     
    jQuery(".leftNavSection ul li.level0 ul li.level1 .arr").click(function () {
        if (!jQuery(this).hasClass('activecc')) {

            jQuery(".leftNavSection ul li.level0 ul li.level1 .arr").removeClass('activecc');
            jQuery(".leftNavSection ul li.level0 ul li.level1 > ul").slideUp();
            jQuery(this).addClass('activecc');
            jQuery(this).prev('ul').slideDown();
            
        } else {
            jQuery(this).removeClass('activecc');
            jQuery(this).prev('ul').slideUp();
        }
    });   
});


function set_megamenuWidth_fn(){
    if (jQuery(window).width() > 1400) {

        jQuery('.megamenuSection ul li.level0 ul').each(function (){  
            jQuery(this).find('li.level1').wrapAll("<div class='liwrapperall'></div>");
            var eachli_length = jQuery(this).find('li.level1').length;
            if(eachli_length == 0 || eachli_length == 1){
                eachli_width = '100%';
            }else if(eachli_length == 2){
                eachli_width = '50%';
            }else if(eachli_length == 3){
                eachli_width = '33.33%';
            }else if(eachli_length == 4){
                eachli_width = '25%';
            }else if(eachli_length == 5){
                eachli_width = '20%';
            }else if(eachli_length == 6){
                eachli_width = '16.66%';
            }else{
                eachli_width = '20%';
            }
            jQuery(this).find('li.level1').css('width',eachli_width);
        });

    }else if (jQuery(window).width() <= 1400 && jQuery(window).width() > 1024) {
        
        jQuery('.megamenuSection ul li.level0 ul').each(function (){  
            jQuery(this).find('li.level1').wrapAll("<div class='liwrapperall'></div>");
            var eachli_length = jQuery(this).find('li.level1').length;
            if(eachli_length == 0 || eachli_length == 1){
                eachli_width = '100%';
            }else if(eachli_length == 2){
                eachli_width = '50%';
            }else if(eachli_length == 3){
                eachli_width = '33.33%';
            }else if(eachli_length == 4){
                eachli_width = '25%';
            }else if(eachli_length == 5){
                eachli_width = '20%';
            }else if(eachli_length == 6){
                eachli_width = '16.66%';
            }else{
                eachli_width = '25%';
            }
            jQuery(this).find('li.level1').css('width',eachli_width);
        });
        
    }else{
        jQuery(this).find('li.level1').css('width','auto');
    }
};
/*! jQuery Validation Plugin - v1.15.0 - 2/24/2016
 * http://jqueryvalidation.org/
 * Copyright (c) 2016 JÃ¶rn Zaefferer; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){if(this.length){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=h&&g.check(e)))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),d in c||!b.objectLength(a(this).rules())?!1:(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);if("function"==typeof f.normalizer){if(i=f.normalizer.call(b,i),"string"!=typeof i)throw new TypeError("The normalizer should return a string value.");delete f.normalizer}for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.trim().length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e=a(c).attr("type"),f="Step attribute on input type "+e+" is not supported.",g=["text","number","range"],h=new RegExp("\\b"+e+"\\b"),i=e&&!h.test(g.join());if(i)throw new Error(f);return this.optional(c)||b%d===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})});;
/*
* rwdImageMaps jQuery plugin v1.6
*
* Allows image maps to be used in a responsive design by recalculating the area coordinates to match the actual image size on load and window.resize
*
* Copyright (c) 2016 Matt Stow
* https://github.com/stowball/jQuery-rwdImageMaps
* http://mattstow.com
* Licensed under the MIT license
*/
;(function($) {
	$.fn.rwdImageMaps = function() {
		var $img = this;

		var rwdImageMap = function() {
			$img.each(function() {
				if (typeof($(this).attr('usemap')) == 'undefined')
					return;

				var that = this,
					$that = $(that);

				// Since WebKit doesn't know the height until after the image has loaded, perform everything in an onload copy
				$('<img />').on('load', function() {
					var attrW = 'width',
						attrH = 'height',
						w = $that.attr(attrW),
						h = $that.attr(attrH);

					if (!w || !h) {
						var temp = new Image();
						temp.src = $that.attr('src');
						if (!w)
							w = temp.width;
						if (!h)
							h = temp.height;
					}

					var wPercent = $that.width()/100,
						hPercent = $that.height()/100,
						map = $that.attr('usemap').replace('#', ''),
						c = 'coords';

					$('map[name="' + map + '"]').find('area').each(function() {
						var $this = $(this);
						if (!$this.data(c))
							$this.data(c, $this.attr(c));

						var coords = $this.data(c).split(','),
							coordsPercent = new Array(coords.length);

						for (var i = 0; i < coordsPercent.length; ++i) {
							if (i % 2 === 0)
								coordsPercent[i] = parseInt(((coords[i]/w)*100)*wPercent);
							else
								coordsPercent[i] = parseInt(((coords[i]/h)*100)*hPercent);
						}
						$this.attr(c, coordsPercent.toString());
					});
				}).attr('src', $that.attr('src'));
			});
		};
		$(window).resize(rwdImageMap).trigger('resize');

		return this;
	};
})(jQuery);;
var scrollFlag = 0,
    newsWrapIsotope;
/*------------- Set equal height function Starts -------------- */
function setEqualHeight_CommonClass(arr) {
    var x = new Array([]);
    jQuery(arr).each(function (i) {
        jQuery(this).height('auto');
        x[i] = jQuery(this).height();
    });
    Max_Value = Array.max(x);
    jQuery(arr).each(function (i) {       
        jQuery(this).height(Max_Value);
    });
}



/* ------
This function is created because setEqualHeight_CommonClass function 
will not consider margin while calculating height of element. But this function will.
-------*/
function setEqualHeight_CommonClass_modified(arr) {
    var x = new Array([]);
    jQuery(arr).each(function (i) {
        jQuery(this).height('auto');
        x[i] = jQuery(this).outerHeight(true);
    });
    Max_Value = Array.max(x);
    jQuery(arr).each(function (i) {       
        jQuery(this).outerHeight(Max_Value);
    });
}

function setEqualHeight(arr) {
    var x = new Array([]);
    for (i = 0; i < arr.length; i++) {
        x[i] = jQuery(arr[i]).height('auto');
        x[i] = jQuery(arr[i]).height();
    }
    Max_Value = Array.max(x);
    for (i = 0; i < arr.length; i++) {       
        x[i] = jQuery(arr[i]).height(Max_Value);
    }
}
Array.max = function (array) {
    return Math.max.apply(Math, array);
};
/*------------- Set equal height function Ends -------------- */

/*=======Counter Function JS Starts=======*/
function setCounter() {
    jQuery('.counterData').counterUp({
        delay: 120, // the delay time in ms
        time: 3900 // the speed time in ms
    });
}
/*=======Counter Function JS Ends=======*/

/*--- error page redirection and counter starts --------*/
if (jQuery('body').hasClass("page-404") && jQuery(".redirectionCounter").length > 0) {
    var counter_value = parseInt(jQuery('.redirectionCounter').html());
    var langCode = "";
    var cnt = setInterval(function() {
        counter_value--;
        if (counter_value < 10) {
            jQuery('.redirectionCounter').html('0' + counter_value);
        } else {
            jQuery('.redirectionCounter').html(counter_value);
        }
        if (counter_value <= 0) {

            if(typeof(drupalSettings.langCode) != "undefined" && drupalSettings.langCode != "en")
            {
                langCode = "/"+drupalSettings.langCode;
            }
            window.location.href = window.location.protocol + '//' + window.location.hostname + langCode;
            clearInterval(cnt);
        }

    }, 1000);
}

/*=======Slider Function JS Starts=======*/
function sliderfn() {
   jQuery('.counterSlider').on('init', function(){ 
        setTimeout(function(e){
            if($(window).width() > 767){
                $('.counteritem').getSameTopGroups({
                    commonParent: '.slick-track'
                }, function(gc) {
                    for (i = 1; i <= gc; i++) {
                        if($('.productitem').length){
                            setEqualHeight_CommonClass(".gg-g-" + i + " .logoImage");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .productDescription");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .productImage");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .counterLink");
                        }else{
                            setEqualHeight_CommonClass(".gg-g-" + i + " .counterpostdata");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .counterValue");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .counterDescription");
                            setEqualHeight_CommonClass(".gg-g-" + i + " .counterImage");
                        }
                    }
                });
            }
        },0);
    }).slick({
            dots: true,
            speed: 800,
            arrows: false,
            infinite: false,
            slidesToShow: 4,
            slidesToScroll: 4,       
            focusOnSelect: false,
            adaptiveHeight: true,
            responsive: [
                {
                    breakpoint: 1025,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: false,
                        dots: true,
                        arrows: false,
                    }
                },
                {
                    breakpoint: 991,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2,
                        infinite: false,
                        dots: true,
                        arrows: false,
                    }
                },            
                {
                    breakpoint: 767,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        dots: true,
                        infinite: false,
                        adaptiveHeight: true,
                        arrows: false,
                    }
                }
            ]
        });
}
/*=======Slider Function JS Starts=======*/

$j = jQuery.noConflict();
jQuery(document).ready(function () {

    $( document ).ajaxStop(function() {
        if(!$('.where-we-operate .jticorpmodule-counter:visible').length){
            if($('.countryTagAndLangWrapper').length){
                $('.countryTagAndLangWrapper .country-language-switcher').addClass('reduceTop');
            }
        }
    });


    /* ========= JCW - 392 pager in newsletter module ======== */

    if(jQuery('.page-node-type-country .additional-news').length){
        jQuery('.page-node-type-country .additional-news .newsSection').append(jQuery('.page-node-type-country .view-country-additional-news .pager-nav'));
    }
    /* ========= JCW - 392 pager in newsletter module ======== */
    
    /*=======jsdisabled Class JS Ends=======*/
    jQuery(".alert .close").click(function () {
        jQuery(this).parent().css('display', 'none');
        return false;
    });

    /* ------- Campaign snapdown starts -------- */
    
    /*Changes for earth campaign. Might need to revert back*/
    jQuery('.campaignBannerWrapper.snapShowHideWrapper').show();

    if($(".snapShowHideWrapper .counterWrapper .counterWithoutSlider").length){
        if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
            counterEqualHeight.reGroup();
        }else{
            counterEqualHeightFunction();
        }
    }

    jQuery(document).on('click', '.campaign--close-btn', function(e){
        jQuery('.campgainSnapGroup .snapDown-title').removeClass('active');
        jQuery('.campaignBannerWrapper.snapShowHideWrapper').slideUp('slow', function(e){
                jQuery("html, body").animate({
                    scrollTop: jQuery('.campainSection').offset().top - 90
                }, 1000);
            });
    });
      
   
    /* ------- Campaign snapdown ends  -------- */

    /*=======jsdisabled Class JS Starts=======*/

    /*=======Add class in Strory Buttom=======*/
    if(jQuery(".page-node-type-perspective-stories .campaignDetailsonStory").length > 0){
        jQuery(".page-node-type-perspective-stories .campaignDetailsonStory .tags a").mousedown(function(){
            tagWhichButton(event);
        });
    }
        
    /*=======End=======*/

    /*=======Add class in Strory Buttom=======*/
    jQuery(".perpctvsstorybutton a").addClass("linkbtn filelink");
    /*=======End=======*/


    if(jQuery('.mediacountry-selection-form').length > 0){        
        var mediacountrylist2 = [];
        var mediacountryid2 = '';
        jQuery(".mediacountry-selection-form #edit-country option").each(function (i) {
            if (i >= 0) {
                mediacountrylist2.push(($(this).html().replace(/&amp;/g, "&")).toString());
            }
        });
        jQuery(".mediacountry-selection-form #edit-country-textfield").autocomplete({
            source: mediacountrylist2,
            select: function (event, ui) {
                var mediacountryvalue = ui.item.value;
                $("#country-selection-form #edit-country option").each(function (i) {
                    if($(this).html() == mediacountryvalue){
                       redirectionURL = "/countryLocationRedirection/" + $(this).val();
                       mediacountryid2 = $(this).val();
                    }
                });
                if(redirectionURL) {
                    $.ajax({
                        type: "POST",
                        url: redirectionURL,
                        data: mediacountryid2,
                        func: 'neglectCountrylocationRedrectionAjax',
                        success: function(data){
                            window.location = data;
                        }
                    });
                }
            }
        });
    }





    /* Js for lazy loading effect*/
    jQuery(window).scroll( function(){
        /* Check the location of each desired element */
        if(viewport().width>767){       
            lazyloading(250);
        }
        else{
            lazyloading(150);
        }
    });



    jQuery('.select-wrapper').attr('class', function() {
            return jQuery(this).attr('class').replace('select-wrapper', 'select-wrapperr');
    });        
    jQuery('.select-wrapperr select').niceSelect();
    

    /*=======Banner external link text starts========*/
    if(jQuery("#bannerwrapper").length>0){
        if(jQuery("#bannerwrapper .bannertext .readmore a.linkbtn").length>0){
            if (link_is_external(jQuery("#bannerwrapper .bannertext .readmore a.linkbtn"))) {
                jQuery("#bannerwrapper .bannertext .readmore a.linkbtn").attr('target','_blank');
                jQuery("#bannerwrapper .bannertext .readmore a.linkbtn").attr('title','Opens in a new window');
            }
        }
    }
    /*=======Banner external link text edns========*/
    
    /*=======Video player JS STARTS========*/
    /*=======Infrographic integration======*/
    if(jQuery("#infoGraph_childLabour").length>0){      
        $j("#infoGraph_childLabour").InvInfoGraphics();
    }
    if(jQuery("#map_illegalTrade").length>0){      
        jQuery("#map_illegalTrade").InvMap();
    }
    if(jQuery("#map_smokingLounges").length>0){      
        jQuery("#map_smokingLounges").InvMap();
    }
    if(jQuery("#videoPlayer1").length>0){    
        jQuery("#videoPlayer1").InvPlayer({
            onVideoPaused: function(){
                if(jQuery('.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection .bannertext .videoicon').length){
                    jQuery('.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection .bannertext .videoicon').removeClass('active').show();
                }
            },
            onVideoComplete: function(){
                jQuery('.banneritem.vloop_inactive .videocta').toggle();
            }
        });
    }
    /*if(jQuery(".videoPlayer2").length>0){
        jQuery(".videoPlayer2").each(function() {
          jQuery(this).InvPlayer();
        });
    }*/

      /*Working code for Image Video Box Module*/
      jQuery(".wrapContentinerJTIVid").each(function(){
         var str_id = jQuery(this).attr('id'); 
            
         jQuery('.videobtn-'+str_id+'').magnificPopup({
            type: 'inline',        
            preloader: false,
            removalDelay: 300,  
            enableEscapeKey: false
        });
         
         
         jQuery('.videobtn-'+str_id+'').bind('click',function(){
            jQuery('#'+str_id+'').InvPlayer({
                onPlayerReady: function() {
                jQuery('#'+str_id+'').append('<button title="Close (Esc)" type="button" class="mfp-close">Ã</button>');  
            }
            });
            

            jQuery('.mfp-close').bind('click',function(){
                  jQuery(this).siblings('.inv_playerContainer').InvPlayer().done(function(e) { 
                    e.stopVideo();
                    e.remove();
                });
              })

         })
      });
      /*End*/

    if(jQuery(".videoPlayer5").length>0){
        jQuery(".videoPlayer5").each(function() {                   
          jQuery(this).InvPlayer();
        });
    }

    if(jQuery(".flyoutWrapper").length>0){
        jQuery(".flyoutcontentwrap.fullVideowithContent").each(function() {
          jQuery(this).find('.videoPlayer4').InvPlayer();
        });
    }

    jQuery("#bannerwrapper .bannerslider .banneritem .banneritemsection .videobtn").hide();    
    if(jQuery("#videoPlayer3").length>0){      
        jQuery("#videoPlayer3").InvPlayer({
            onPlayerReady: function() {
                jQuery("#bannerwrapper .bannerslider .banneritem .banneritemsection .videobtn").show();
            }
        });
    }
    
    jQuery('.videobtn').magnificPopup({
        type: 'inline',        
        preloader: false,
        removalDelay: 300,  
        enableEscapeKey: false
    });

    jQuery('.videocta').magnificPopup({
        type: 'inline',        
        preloader: false,
        removalDelay: 300,  
        enableEscapeKey: false
    });

    $.magnificPopup.instance.close = function () {
        // new version on 1/03/2018
        $("#videoPlayer3").InvPlayer().done(function(e) {
            e.pauseVideo();
        });
       /* $(".videoPlayer2").InvPlayer().done(function(e) {
            e.pauseVideo();
        });*/
        $(".videoPlayer5").InvPlayer().done(function(e) {
            e.pauseVideo();
        });

         // "proto" variable holds MagnificPopup class prototype
         // The above change that we did to instance is not applied to the prototype, 
         // which allows us to call parent method:
         $.magnificPopup.proto.close.call(this);
    };
    var videoPlayerInstance = jQuery("#videoPlayer1");
    jQuery('.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection .bannertext .videoicon').click(function(e) {
        if (jQuery(this).hasClass('active')) {
            videoPlayerInstance.InvPlayer().done(function (e) {
                    e.pauseVideo();
            }); 
            jQuery(this).removeClass('active');
        }else{
            jQuery(this).addClass('active');
            videoPlayerInstance.InvPlayer().done(function (e) {
                    e.playVideo();  
            }); 
            jQuery(this).css('display','none');
        }
    });

    jQuery('.path-frontpage #bannerwrapper .mobibannertext .videoicon').click(function(e) {
        if (jQuery(this).hasClass('active')) {
            videoPlayerInstance.InvPlayer().done(function (e) {
                    e.pauseVideo();
            }); 
            jQuery(this).removeClass('active');
        }else{            
            jQuery(this).addClass('active');            
            videoPlayerInstance.InvPlayer().done(function (e) {
                    e.playVideo();                   
            });
            jQuery(this).css('display','none'); 
        }
    });

    jQuery('a[href]').each(function() {
       if((C = jQuery(this).attr('href').toLowerCase().match(/[.](doc|xls|pdf|docx|ppt)$/))) {
           jQuery(this).addClass("pdf");
       }
    });


    /* JS for Image map*/
    jQuery('img[usemap]').rwdImageMaps();

    setCounter();   
    
    /*=======Slider JS STARTS========*/
    sliderfn();
    jQuery('.perspectiveSlider').slick({
        dots: true,
        speed: 800,
        arrows: false,
        infinite: false,
        slidesToShow: 3,
        slidesToScroll: 3,       
        focusOnSelect: false,
        adaptiveHeight: true,
        responsive: [
            {
                breakpoint: 1025,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2,
                    infinite: false,
                    dots: true,
                    arrows: false,
                }
            },
            {
                breakpoint: 991,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    infinite: false,
                    dots: true,
                    arrows: false,
                    focusOnSelect: true,
                }
            },            
            {
                breakpoint: 767,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    infinite: false,
                    dots: true,
                    arrows: false,
                    focusOnSelect: true,
                }
            }
        ]
    });
    
    /*===Header country Detail block===*/
    jQuery( "#block-headercountrydetailblock" ).insertBefore("#header .topwrap");

    /*=======Snapdowns JS Starts=======*/
    jQuery('.snapwrap .views-row:first-child .snap-item .snap-title').parent().addClass('active');
    jQuery('.snapwrap .views-row:first-child .snap-item .snap-content').css('display', 'block');
    jQuery('.snapwrap .snap-item .snap-title').click(function (e) {
        e.preventDefault();
        if (jQuery(this).parent().hasClass('active')) {
            jQuery(this).parent().removeClass('active');
            jQuery(this).next('.snap-content').slideUp();
            jQuery(this).parent().removeClass('active');
        } else {
            jQuery('.snap-item').removeClass('active');
            jQuery('.snap-content').slideUp();
            jQuery(this).parent().addClass('active');
            jQuery(this).next('.snap-content').slideDown("slow", function () {
                jQuery("html, body").animate({
                    scrollTop: jQuery(this).parent().offset().top - 90
                }, 500);

                /* ---- Counter equal height ------ */
                if(jQuery(".counterWrapper .counterWithoutSlider").length){
                    if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                        counterEqualHeight.reGroup();
                    }else{
                        counterEqualHeightFunction();
                    }
                }
                /* ---- Counter equal height ------ */
            });
        }
    });

    jQuery('.expand-all').click(function (e) {
        jQuery(this).addClass('active');
        jQuery('.collaps-all').removeClass('active');
        jQuery('.snap-content').slideDown();
        jQuery('.snap-item').addClass('active');
        return false;
    });
    jQuery('.collaps-all').click(function (e) {
        jQuery(this).addClass('active');
        jQuery('.expand-all').removeClass('active');
        jQuery('.snap-content').slideUp();
        jQuery('.snap-item').removeClass('active');
        return false;
    });

    jQuery('#element--3359 .snap-item').addClass('active');
    jQuery('#element--3359 .snap-item .snap-content').css('display','block');
    /*=======Snapdowns JS Ends=======*/

    /*=============Quicktab wrapper JS Starts=============*/
    if(jQuery(".quickTabsWrapper").length > 0) {
        jQuery(".quickTabsWrapper .quicktabRows").hide();
        jQuery('.quickTabsWrapper .quickTabs ul li:first-child').addClass('current');
        var currentQuickTabClass = jQuery('.quickTabsWrapper .quickTabs ul li.current').attr('class').split(" ");
        jQuery('.quickTabsWrapper .tabWrapper .tabContent .quicktabRows.'+currentQuickTabClass[0]).addClass('current-row');
        //Show current tab and current-row data
        jQuery('.quickTabsWrapper .quickTabs ul li.current').show();
        jQuery('.quickTabsWrapper .tabWrapper .tabContent .quicktabRows.current-row').show();
        jQuery(document).on("click", ".quickTabsWrapper .quickTabs ul li", function (e) {
            jQuery(".quickTabsWrapper .quickTabs ul li").removeClass("current");
            jQuery(".quickTabsWrapper .tabWrapper .tabContent .quicktabRows").removeClass("current-row");
            jQuery(".quickTabsWrapper .tabWrapper .tabContent .quicktabRows").hide();
            var currentTabClass = jQuery(this).attr('class').split(" ");
            jQuery(this).addClass("current");
            jQuery('.quickTabsWrapper .tabWrapper .tabContent .quicktabRows.'+currentTabClass).addClass('current-row');
            jQuery('.quickTabsWrapper .tabWrapper .tabContent .quicktabRows.'+currentTabClass).show();
            return false;
        });
    }

    //Create Dynamic Tabs starts
    if(jQuery("body .tabwrapper").length > 0) {
        var labels = [];
        jQuery(".tabwrapper .tab-item").each(function(index){
            labels.push({
                label: jQuery(this).find(".tab-title").text(),
                id: jQuery(this).find(".tab-title").attr('id')
            });
        });
        jQuery.each(labels, function(i, obj) {
            jQuery("ul.tabLabels").append("<li id='"+obj.id+"'>"+obj.label+"</li>")
        });
    }
    if(jQuery("body .tabwrapper ul.tabLabels li").length > 0) {
        jQuery('.tabwrapper .tab-content').hide();
        jQuery('.tabwrapper .field--item:first-child .tab-content').show();
        jQuery('.tabwrapper ul.tabLabels li:first-child').addClass('current');
        jQuery(".tabwrapper ul.tabLabels li").click(function(){
            jQuery('.tabwrapper ul.tabLabels li').removeClass('current');
            jQuery(this).addClass('current');
            jQuery('.tabwrapper .tab-content').hide();
            jQuery('.tabwrapper  .tab-content.'+jQuery(this).attr("id")).show();
            /* ---- Counter equal height ------ */
            if(jQuery(".counterWrapper .counterWithoutSlider").length){
                if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                    counterEqualHeight.reGroup();
                }else{
                    counterEqualHeightFunction();
                }
            }
            /* ---- Counter equal height ------ */
        });
    }
    //Create Dynamic Tabs Ends

    //Starts Case study:: Half width data display
    var total = jQuery(".view-reference-contents .views-row .snapwrap").length;
    
    if(jQuery(".view-reference-contents .views-row .snapwrap").length > 0) {
        var snapwrapCounter = 0;
        jQuery(".view-reference-contents .views-row .snapwrap").each(function(index){
            if (index === total - 1) {                 
             jQuery(this).addClass('lastsnapwrap');
            }
        });
    }
    if(jQuery(".view-reference-contents .views-row .casestudy.halfwidthbg").length > 0) {
        var caseStudyCounter = 0;
        jQuery(".view-reference-contents .views-row").each(function(key, index){
            if(jQuery(this).find(".casestudy").hasClass("halfwidthbg")) {
                caseStudyCounter = caseStudyCounter + 1;
                if(caseStudyCounter == 2){
                    caseStudyCounter = 0;
                    jQuery(this).find(".halfwidthbg").addClass("second-casestudy");
                    jQuery(this).after('<div class="caseStudyResultContainer"></div>');
                } else {
                    jQuery(this).find(".halfwidthbg").addClass("first-casestudy");
                }
            }
        });
    }

    if(jQuery(".rowStyle-new .counterSection .counterWithoutSlider").length > 0) {
        jQuery(".rowStyle-new .counterSection .counterWithoutSlider").each(function(key, index){
            var counteritemlength = jQuery(this).find(".counteritem").length;
            if(counteritemlength == 2){
                jQuery(this).find(".counteritem").css('width','50%');
            }else if(counteritemlength == 3) {
                jQuery(this).find(".counteritem").css('width','33.33%');
            }else if(counteritemlength == 4){
                jQuery(this).find(".counteritem").css('width','25%');
            }else{
                jQuery(this).find(".counteritem").css('width','100%');
            }
        });
    }

    if(jQuery(".path-frontpage .counterSection .counterWithoutSlider").length > 0) {
        jQuery(".path-frontpage .counterSection .counterWithoutSlider").each(function(key, index){
            var counteritemlength = jQuery(this).find(".counteritem").length;
             if(counteritemlength == 2){
                jQuery(this).find(".counteritem").css('width','50%');
            }else if(counteritemlength == 3) {
                jQuery(this).find(".counteritem").css('width','33.33%');
            }else if(counteritemlength == 4){
                jQuery(this).find(".counteritem").css('width','25%');
            }else{
                jQuery(this).find(".counteritem").css('width','100%');
            }
        });
    }

    if(jQuery(".page-node-type-country .counterSection .counterWithoutSlider").length > 0) {
        jQuery(".page-node-type-country .counterSection .counterWithoutSlider").each(function(key, index){
            var counteritemlength = jQuery(this).find(".counteritem").length;
             if(counteritemlength == 2){
                jQuery(this).find(".counteritem").css('width','50%');
            }else if(counteritemlength == 3) {
                jQuery(this).find(".counteritem").css('width','33.33%');
            }else if(counteritemlength == 4){
                jQuery(this).find(".counteritem").css('width','25%');
            }else{
                jQuery(this).find(".counteritem").css('width','100%');
            }
        });
    }

    //jQuery(".view-reference-contents div.views-row:nth-child(9)").addClass('customCrousalBlock');

    //Ends Case study:: Half width data display
    //Starts:: Quote Slider for ROW style items
    if(jQuery(".view-reference-contents .views-row .rowStyle-new .quote.casestudyitem.quoteAsSilder").length > 0) {
        var quoteCarouselCounter = 0;
        jQuery(".view-reference-contents .views-row .field--item").each(function(key, index){
            if(jQuery(this).find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                quoteCarouselCounter = quoteCarouselCounter + 1;
                jQuery(this).addClass("quoteAsSilder-slider slider"+quoteCarouselCounter);
                if(jQuery(this).next().find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                } else {
                    return false;
                }
            }
        });

        jQuery(".view-reference-contents .views-row .rowStyle-new .quoteAsSilder-slider").wrapAll("<div class='mainQuoteDynamicWrapper'></div>");
        jQuery(".mainQuoteDynamicWrapper").slick({
            dots: true,
            speed: 800,
            arrows: false,        
            slidesToShow: 1,
            slidesToScroll: 1,       
            focusOnSelect: false,
        });
    }

    /* if(jQuery(".view-reference-contents .views-row .rowStyle-new#element--3279 .quote.casestudyitem.quoteAsSilder").length > 0) {
        var quoteCarouselCounter = 0;
        jQuery(".view-reference-contents .views-row .rowStyle-new#element--3279 .field--item").each(function(key, index){
            if(jQuery(this).find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                quoteCarouselCounter = quoteCarouselCounter + 1;
                jQuery(this).addClass("quoteAsSilder-slider slider"+quoteCarouselCounter);
                if(jQuery(this).next().find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                } else {
                    return false;
                }
            }
        });

        jQuery(".view-reference-contents .views-row .rowStyle-new#element--3279 .quoteAsSilder-slider").wrapAll("<div class='mainQuoteDynamicWrapper11'></div>");
        jQuery(".mainQuoteDynamicWrapper11").slick({
            dots: true,
            speed: 800,
            arrows: false,        
            slidesToShow: 1,
            slidesToScroll: 1,       
            focusOnSelect: false,
        });
    }  */
    //Ends:: Quote Slider for ROW style items
    
    /*===Sharing Button Section=====*/ 
    jQuery(document).on("click",".sharing",function (e) {
        if(jQuery(this).hasClass('case-studysharing')) {
            var title = $(this).attr('data-title');
            var nodepath = $(this).attr('data-url');
            //var nid = drupalSettings.nid;
            //var nodeAlish = drupalSettings.alias;
            var shareUrl = drupalSettings.basePath+nodepath;
            var mailUrl = "mailto:?subject=Japan Tobacco International â "+title+"&body=I thought this page might interest you: "+shareUrl;
            var facebookUrl = "https://www.facebook.com/sharer.php?u="+shareUrl;
            var linkedinUrl = "https://www.linkedin.com/shareArticle?mini=true&url="+shareUrl+"&title="+title;
            var twitterUrl = "https://twitter.com/share?text="+title+"&url="+shareUrl;
            $("#myModal .email-icon a").attr("href",mailUrl);
            $("#myModal .facebook-icon a").attr("href",facebookUrl);
            $("#myModal .linkedin-icon a").attr("href",linkedinUrl);
            $("#myModal .twitter-icon a").attr("href",twitterUrl);
            $("#myModal").modal();
        } else {
            var title = $(this).attr('data-title');
            var nodepath = $(this).attr('data-url');
            //var nid = drupalSettings.nid;
            //var nodeAlish = drupalSettings.alias;

            var shareUrl = drupalSettings.basePath+nodepath;

            var mailUrl = "mailto:?subject=Japan Tobacco International â "+title+"&body=I thought this page might interest you: "+shareUrl;
            var facebookUrl = "https://www.facebook.com/sharer.php?u="+shareUrl;
            var linkedinUrl = "https://www.linkedin.com/shareArticle?mini=true&url="+shareUrl+"&title="+title;
            var twitterUrl = "https://twitter.com/share?text="+title+"&url="+shareUrl;
            $("#myModal .email-icon a").attr("href",mailUrl);
            $("#myModal .facebook-icon a").attr("href",facebookUrl);
            $("#myModal .linkedin-icon a").attr("href",linkedinUrl);
            $("#myModal .twitter-icon a").attr("href",twitterUrl);
            $("#myModal").modal();
        }
    });

    /*===Sharing Button Section on Sharing View Section =====*/ 
    jQuery(document).on("click",".viewsSharing",function (e) {

        var title = $(this).attr('data-title');     
        var nodepath = $(this).attr('data-url');

        if(jQuery(this).hasClass('pressReleaseShare') || jQuery(this).hasClass('caseStudiesShare')) {
           var shareUrl = nodepath;          
        }else{
           var shareUrl =drupalSettings.basePath+nodepath;          
        }
        
        //added for debug purpose
        console.log("Share Title : " + title);
        console.log("Share URL : " + shareUrl);

        var shareUrl = encodeURIComponent(shareUrl);

        var mailUrl = "mailto:?subject=Japan Tobacco International â "+title+"&body=I thought this page might interest you: "+shareUrl;
        var facebookUrl = "https://www.facebook.com/sharer.php?u="+shareUrl;
        var linkedinUrl = "https://www.linkedin.com/shareArticle?mini=true&url="+shareUrl+"&title="+title+"&source=JTI";
        var twitterUrl = "https://twitter.com/share?text="+title+"&url="+shareUrl;
        jQuery("#modalForViews .email-icon a").attr("href",mailUrl);
        jQuery("#modalForViews .facebook-icon a").attr("href",facebookUrl);
        jQuery("#modalForViews .linkedin-icon a").attr("href",linkedinUrl);
        jQuery("#modalForViews .twitter-icon a").attr("href",twitterUrl);
        jQuery("#modalForViews").modal();

    });


    /*===Sharing Button Section on sharing section=====*/ 
    jQuery(document).on("click",".storysharing",function (e) {
            var title = $(this).attr('data-title');
            var shareUrl = window.location.href;            
            var mailUrl = "mailto:?subject=Japan Tobacco International â "+title+"&body=I thought this page might interest you: "+shareUrl;
            var googleUrl = "https://plus.google.com/share?url="+shareUrl+"&title="+title+"&summary="+title;
            var facebookUrl = "https://www.facebook.com/sharer.php?u="+shareUrl;
            var linkedinUrl = "https://www.linkedin.com/shareArticle?mini=true&url="+shareUrl+"&title="+title;
            var twitterUrl = "https://twitter.com/share?text="+title+"&url="+shareUrl;
            jQuery("#storyModal .email-icon a").attr("href",mailUrl);
            jQuery("#storyModal .facebook-icon a").attr("href",facebookUrl);
            jQuery("#storyModal .linkedin-icon a").attr("href",linkedinUrl);
            jQuery("#storyModal .twitter-icon a").attr("href",twitterUrl);
            jQuery("#storyModal .googleplus-icon a").attr("href",googleUrl);
            jQuery("#storyModal").modal();
        
    });



    if (jQuery(window).width() > 1024) {
        jQuery(".sharethisSection .inv_mediaShareBtn").addClass('active');
        jQuery(".sharethisSection .inv_mediaShareBtn").next().slideDown();
    }
    jQuery(".sharethisSection .inv_mediaShareBtn").click(function (e) {
      if($(this).hasClass('active')){
          $(this).removeClass('active');
          $(this).next().slideUp();              
      }else{
          $(this).addClass('active');
          $(this).next().slideDown();          
      }
    });

    /*=============Quicktab wrapper js Ends=============*/
    jQuery('a.top-hvr').colorbox({rel: 'group2',maxWidth:'95%', maxHeight:'95%',reposition:true});

   /*=========== Left Nav JS ==============*/ 
    
    jQuery("#block-investis-bootstrap-main-menu ul li").each(function(){
        if(jQuery(this).hasClass("active")) {
            var leftNavTitle = $(this).text();
            jQuery('.leftnavigation ul.navbar-nav').prepend('<h2 class="leftnav-title">'+leftNavTitle+'</a>');
        }
    });
    /*=========== Left Nav JS Ends==============*/
    
    /*====casestudy JS=====*/
    if(jQuery(".casestudy").length > 0) {
        jQuery('.casestudy .bottomcontainer .dropbtn').addClass('active');
        jQuery('.casestudy .titlecontainer .dropbtn').click(function (e) {
            if(jQuery(this).parents('.casestudy').hasClass('halfwidthbg')){
                 
                if (jQuery(window).width() > 767) {
                    
                    jQuery('.caseStudyResultContainer').empty();
                    if(jQuery(this).parents('.casestudy').hasClass('first-casestudy')){
                        var halfwidthbgcontent = jQuery(this).parents('.titlecontainer').next('.bottomcontainer').html();
                        jQuery(this).parents('.views-row').next().next('.caseStudyResultContainer').append('<div class="casestudycontentwrap">'+ halfwidthbgcontent +'</div>');
                    }
                    if(jQuery(this).parents('.casestudy').hasClass('second-casestudy')){                   
                        var halfwidthbgcontent = jQuery(this).parents('.titlecontainer').next('.bottomcontainer').html();
                        jQuery(this).parents('.views-row').next('.caseStudyResultContainer').append('<div class="casestudycontentwrap">'+ halfwidthbgcontent +'</div>');
                    }
                    if (jQuery(this).hasClass('active')) {
                        jQuery('.jticorpmodule-casestudy').removeClass('removePadding');
                        jQuery(this).removeClass('active'); 
                        jQuery('.caseStudyResultContainer').slideUp();
                        jQuery('.caseStudyResultContainer').html('');
                    } else { 
                        jQuery('.halfwidthbg').parents('.jticorpmodule-casestudy').addClass('removePadding');
                        jQuery('.casestudy .titlecontainer .dropbtn').removeClass('active');
                        jQuery('.caseStudyResultContainer').slideUp();
                        jQuery(this).addClass('active');
                        if(jQuery(this).parents('.casestudy').hasClass('first-casestudy')){
                            jQuery(this).parents('.views-row').next().next('.caseStudyResultContainer').slideDown("slow",function () {
                                jQuery("html, body").animate({
                                    scrollTop: jQuery(this).offset().top - 90
                                }, 500);
                            });
                        }
                        if(jQuery(this).parents('.casestudy').hasClass('second-casestudy')){
                           
                            jQuery(this).parents('.views-row').next('.caseStudyResultContainer').slideDown("slow",function () {
                                jQuery("html, body").animate({
                                    scrollTop: jQuery(this).offset().top - 90
                                }, 500);
                            });
                        }

                        setTimeout(function(){
                            /* ---- Counter equal height ----- */
                            if(jQuery(".counterWrapper .counterWithoutSlider").length){
                                if(counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                                    counterEqualHeight.reGroup();
                                }else{
                                    counterEqualHeightFunction();
                                }
                            }
                        },1000);

                    }
                }else{

                    jQuery('.caseStudyResultContainer').hide();
                    if (jQuery(this).hasClass('active')) {
                        jQuery(this).removeClass('active');
                        jQuery(this).parent().next('.bottomcontainer').slideUp();
                        jQuery('.caseStudyResultContainer').slideUp();
                        jQuery('.caseStudyResultContainer').html('');

                    } else {
                        jQuery('.casestudy .titlecontainer .dropbtn').removeClass('active');
                        jQuery('.casestudy .bottomcontainer').slideUp();
                        jQuery('.caseStudyResultContainer').slideUp();
                        jQuery('.caseStudyResultContainer').html('');
                        jQuery(this).addClass('active');
                        jQuery(this).parent().next('.bottomcontainer').find(".dropbtn").addClass("active");
                        jQuery(this).parent().next('.bottomcontainer').slideDown("slow",function () {                            
                            jQuery(".counterSection .slick-dots li").trigger('click');
                            jQuery("html, body").animate({
                                scrollTop: jQuery(this).parent().offset().top - 90
                            }, 500);

                            setTimeout(function(){
                                if($(".counterWrapper .counterWithoutSlider").length){
                                    if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                                        counterEqualHeight.reGroup();
                                    }else{
                                        counterEqualHeightFunction();
                                    }
                                }
                            },100);

                        });
                    }


                }
            }else{
                e.preventDefault();
                if (jQuery(this).hasClass('active')) {
                    jQuery(this).removeClass('active');
                    jQuery(this).parent().next('.bottomcontainer').slideUp();
                    jQuery('.caseStudyResultContainer').slideUp();
                    jQuery('.caseStudyResultContainer').html('');

                } else {
                    jQuery('.jticorpmodule-casestudy').removeClass('removePadding');
                    jQuery('.casestudy .titlecontainer .dropbtn').removeClass('active');
                    jQuery('.casestudy .bottomcontainer').slideUp();
                    jQuery('.caseStudyResultContainer').slideUp();
                    jQuery('.caseStudyResultContainer').html('');
                    jQuery(this).addClass('active');
                    jQuery(this).parent().next('.bottomcontainer').find(".dropbtn").addClass("active");
                    jQuery(this).parent().next('.bottomcontainer').slideDown("slow",function () {
                        jQuery("html, body").animate({
                            scrollTop: jQuery(this).parent().offset().top - 90
                        }, 500);

                        setTimeout(function(){
                            if($(".counterWrapper .counterWithoutSlider").length){
                                if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                                    counterEqualHeight.reGroup();
                                }else{
                                    counterEqualHeightFunction();
                                }
                            }
                        },100);

                    });
                }
            }
            jQuery('.casestudycontentwrap .field--name-field-reference-contents').each(function(){
               if(jQuery(this).find(".quote.casestudyitem.quoteAsSilder").length > 0) {
                    var quoteCarouselCounter = 0;
                    jQuery(this).find(".field--item").each(function(key, index){
                        if(jQuery(this).find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                            quoteCarouselCounter = quoteCarouselCounter + 1;
                            jQuery(this).addClass("quoteAsSilder-slider slider"+quoteCarouselCounter);
                            if(jQuery(this).next().find(".quote.casestudyitem").hasClass("quoteAsSilder")) {
                            } else {
                                return false;
                            }
                        }
                    });
                    jQuery(this).find(".quoteAsSilder-slider").wrapAll("<div class='mainQuoteDynamicWrapper'></div>");
               }
            })
            jQuery(".mainQuoteDynamicWrapper").slick({
               dots: true,
               speed: 800,
               arrows: false,
               slidesToShow: 1,
               slidesToScroll: 1,
               focusOnSelect: false
            });               
        });
        jQuery('.casestudy .bottomcontainer .dropbtn.active').click(function (e) {
            jQuery('.jticorpmodule-casestudy').removeClass('removePadding');
            jQuery(this).removeClass('active');
            jQuery('.casestudy .titlecontainer .dropbtn').removeClass('active');
            jQuery(this).parent('.bottomcontainer').slideUp("slow",function () {
                jQuery("html, body").animate({
                    scrollTop: jQuery(this).parents('.casestudy').offset().top
                }, 500);
            });
        });
        
        jQuery(document).on('click','.caseStudyResultContainer .dropbtn.active', function(ev) {            
            var _this = this;
            jQuery('.jticorpmodule-casestudy').removeClass('removePadding');
            jQuery('.caseStudyResultContainer').slideUp("slow",function () { 
                jQuery("html, body").animate({
                    scrollTop: jQuery(_this).parents('.caseStudyResultContainer').prev().find(".halfwidthcasestudygrid").offset().top - 90
                }, 500, function(){
                    setTimeout(function(){
                        jQuery('.caseStudyResultContainer').html('');
                    },400);
                });
                jQuery('.casestudy .titlecontainer .dropbtn').removeClass('active');
            });
        });

    }

    /*===casestudy Js Ends=====*/
    jQuery('.contentsliderWrapper .contentslider').slick({
        dots: true,
        speed: 800,
        arrows: true,
        infinite: true,
        slidesToShow: 1,
        slidesToScroll: 1,       
        focusOnSelect: false,
        adaptiveHeight: true,
        responsive: [            
            {
                breakpoint: 991,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    infinite: false,
                    dots: true,
                    arrows: false,
                }
            },            
            {
                breakpoint: 767,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    infinite: false,
                    dots: true,
                    arrows: false,
                }
            }
        ]       
    });

    /*====Fly Out====*/
    // jQuery('.flyoutcontentwrap').width(0);
    if (jQuery(window).width() > 767) {
        jQuery('.flyoutWrapper .flyout .flyoutbtn').click(function(e){
            if(jQuery(this).hasClass('active')){                     
                jQuery(this).removeClass('active');
                jQuery(this).parents('.flyoutWrapper').removeClass('active');         
            }
            else{
                jQuery(this).addClass('active'); 
                jQuery(this).parents('.flyoutWrapper').addClass('active'); 
            }
        });
    }else{
       jQuery('.flyoutWrapper .flyout .flyoutbtn').click(function(e){
            if(jQuery(this).hasClass('activeee')){                     
                jQuery(this).removeClass('activeee');
                jQuery(this).next('.flyoutcontentwrap').slideUp();         
            }
            else{
                jQuery(this).addClass('activeee'); 
                jQuery(this).next('.flyoutcontentwrap').slideDown(); 
            }
        }); 
    }

    /*==Location JS==*/
    var headercountryformht = jQuery('#header .header-country-detail-form').height();    
    jQuery('#header .header-country-detail-form').hide();
    jQuery('#header .header-country-detail-form #header-country-detail-form .snapContent .snapOen, #header .header-country-detail-form #header-country-detail-form .snapContent .snapOpenCountry').click(function(e){
        if(jQuery('.snapOen').hasClass('active')){  
            jQuery('.snapOen').removeClass('active');
            jQuery('.snapOpenCountry').removeClass('active');
            jQuery('.snapOen').parent().removeClass('active');
            jQuery('.snapOen').parent().next().find('.panel-body').slideUp(); 
        }
        else{
            jQuery('.snapOen').addClass('active');
            jQuery('.snapOpenCountry').addClass('active');    
            jQuery('.snapOen').parent().addClass('active');
            jQuery('.snapOen').parent().next().find('.panel-body').slideDown(); 
        }
    });

    jQuery('#header .header-country-detail-form .lrftbtn').click(function(e){
            jQuery('#header .headerwrapper .header-right .locationlink').removeClass('active');   
            jQuery('#header').next().css({'margin-top':'0','transition': 'margin-top 0.3s ease 0s'});            
            jQuery("#header .header-country-detail-form").slideUp();
            return false;
    });

    /*jQuery('footer .gotop').click(function(e){
        jQuery('#header').addClass('active');
        jQuery('#header .headerwrapper .header-right .locationlink').addClass('active');                      
        jQuery("#header .header-country-detail-form").slideDown();
        return false;

    });*/

    //Changed for WO:330523
    jQuery('footer .gotop').click(function(e){
        jQuery('.your-location-message').trigger('click');
        e.stopPropagation();
    });

    /*News section JS*/
    if(jQuery('.page-node-type-country .countryNewsWrapper .newsSection .newsWrap .newsitem').length > 6){
        jQuery('.page-node-type-country #block-views-block-country-news-block-1 .newsSection .newsWrap .newsitem').each(function() {
            var year = jQuery( this ).find('time').html().substr(jQuery( this ).find('time').length - 5);
            jQuery(this).addClass(year);
            jQuery(this).attr('data-year', year);
            jQuery(this).find('.newsWraptitle').addClass(year);
        });

        var selectListdata = [];
        var option;
        $(".newsWrap .newsitem").each(function(index){
            if(jQuery.inArray($(this).data('year'),selectListdata) == -1)
                selectListdata.push($(this).data('year'));
        });
        option = '<div class="filter-by-year"><label for="edit-field-news-year-target-id" class="control-label">Filter by year</label>'
        //option += '<select class="filter-news"><option>All</option>';
        option += '<select class="filter-news">';
        for (var i=0;i<selectListdata.length;i++){
           if(typeof selectListdata[i] != "undefined") {
            option += '<option value="'+ selectListdata[i] + '">' + selectListdata[i] + '</option>';
           } 
        }
        option += '</select></div>';
        $(option).appendTo(".newsLabelWrapper");
        jQuery('.filter-by-year .filter-news').niceSelect();
        $(document).on("change",".filter-news",function(){
            var year = $(this).val();
            if(year == "All")
            {
                year = ".newsitem"
            }
            else{
               year = "."+year
            }
            $("#block-views-block-country-news-block-1 .newsWrap").isotope({ 
                filter: year
            });
        });
        //Select the first option from news
        setTimeout(function(){
            newsWrapIsotope = $("#block-views-block-country-news-block-1 .newsWrap").isotope({ 
                filter: "."+$(".newsLabelWrapper .filter-by-year ul.list li:first-child").data('value')
            });
            $(".nice-select.filter-news.open").removeClass("open");
        },0);
    } else {
        if(jQuery('.page-node-type-country .countryNewsWrapper .newsSection .newsWrap .newsitem').length > 0){
            option = '<div class="filter-by-year no-filter-required"></div>';
            $(option).appendTo(".newsLabelWrapper");
        }
    }
  
    
    /* -------- Related Document Section -------- */    
    if(jQuery('.relatedDocumentSection .document-title').length == 0){
        jQuery('.relatedDocumentSection').hide();
    }

    /* -------- Language Switcher Section JS -------- */
    if(jQuery('.page-node-type-country .language-switcher-language-url .curr').length == 0){
        jQuery('<div class="curr"></div>').insertAfter('.language-switcher-language-url h2');
        var currlanguage = jQuery('.language-switcher-language-url .links li a.is-active').html();
        jQuery('.language-switcher-language-url .curr').html(currlanguage);
    }
    jQuery('.page-node-type-country .language-switcher-language-url .curr').click(function(e){
        if(jQuery(this).hasClass('active')){  
            jQuery('.page-node-type-country .language-switcher-language-url .curr').removeClass('active');                      
            jQuery(this).siblings('ul.links').slideUp();
        }
        else{            
            jQuery(this).addClass('active');                      
            jQuery(this).siblings('ul.links').slideDown(); 
        }
    });

    if(jQuery('.page-node-type-country .brandsWrapper .form-group .dropbtn').length == 0){        
        if(jQuery('.page-node-type-country .brandsWrapper .form-group .view-brands > div').length > 0){
            jQuery('.page-node-type-country .brandsWrapper .form-group').append('<span class="dropbtn"></span>');
        }
    }

    jQuery('.page-node-type-country .brandsWrapper .view-content .brandrows:nth-child(odd)').addClass('odd');
    jQuery('.page-node-type-country .brandsWrapper .view-content .brandrows:nth-child(even)').addClass('even');

    jQuery('.page-node-type-country .brandsWrapper .dropbtn').addClass('active');
    jQuery(".page-node-type-country .brandsWrapper .dropbtn").click(function (){
        if(jQuery(this).hasClass('active')){
           jQuery(this).removeClass('active');
           jQuery('.page-node-type-country .brandsWrapper .brand-header').addClass('activecc');
           jQuery(".page-node-type-country .brandsWrapper .view-content").slideUp("slow", function () {
                jQuery("html, body").animate({
                    scrollTop: jQuery(this).parent().offset().top - 90
                }, 500);
            });
        }else{
           jQuery(this).addClass('active');
           jQuery('.page-node-type-country .brandsWrapper .brand-header').removeClass('activecc');
           jQuery(".page-node-type-country .brandsWrapper .view-content").slideDown("slow", function () {
                jQuery("html, body").animate({
                    scrollTop: jQuery(this).parent().offset().top - 90
                }, 500);
            });
        }
    });

    /* -------- Search Functionality -------- */
    jQuery('.region-header-right').hide().width(0);
    jQuery('.searchbtn').click(function(e){
        if(jQuery(this).hasClass('active')){            
            jQuery(this).next().animate({width: "0px"},jQuery.extend(true, {
            complete: function() {
               jQuery(this).next().hide();
               jQuery('.searchbtn').removeClass('active');
            }
         }));
         jQuery('.searchbtn').removeClass('active');
        }
        else{
            
            jQuery(this).next('.region-header-right').show();
            if (jQuery(window).width() > 1300) {
                jQuery(this).next('.region-header-right').animate({width: "250px"}, 500 );         
            }else{
                jQuery(this).next('.region-header-right').animate({width: "200px"}, 500 );
            }
            jQuery(this).addClass('active');
            jQuery(".region-header-right #solrstrap-searchbox-form").focus();
            e.stopPropagation();
        }
    });   
    jQuery(document).on("click",".path-search-result #result-summary-template .search-box-link", function(e){
        jQuery("html, body").animate({
            scrollTop: 0
        }, 500);
        setTimeout(function(){ 
            jQuery('.path-search-result #searchresultform .search-box #solrstrap-searchbox').focus();
        }, 600);
    });

    /* -------- search result form -------- */
    if(jQuery('.path-search-result #bannerwrapper #searchresultform').length == 0){
        jQuery("#searchresultform").insertBefore('.path-search-result #bannerwrapper .region-banner');
    }
    setTimeout(function(){ 
        if(jQuery('.path-search-result #solrstrap-tabs .startlabel').length == 0){
            jQuery("#searchresultform").prepend('<span class="startlabel">Filter result by:</span>');
        }
    }, 500);


    /*==Copy to clip JS==*/
    jQuery('.sharethisSection .inv_mediaShareControls .icons-copytoclip-icon').click(function(e){
        var currurl = jQuery(this).attr('href');
        copyToClipboard(currurl);
        jQuery('.sharethisSection .inv_mediaShareControls .inv_mediacopytoclipBtn').prepend("<div class='link-copied'>Link copied successfully</div>");
        setTimeout(function() { 
            jQuery(".link-copied").hide();
            jQuery('.sharethisSection .inv_mediaShareControls .inv_mediacopytoclipBtn .link-copied').remove();

         }, 1000);
        return false;
    });
    /*====5 global Form JS====*/
    jQuery(".main-wrapper .business-ethics-form form, .main-wrapper .media-relation-form form, .main-wrapper .csr-contact-form form, .main-wrapper .product-feedback-form form, .main-wrapper .general-enquiries-form form, .topcontentcontainer .jti-security-form form").each(function() {
            jQuery(this).find('button').wrapAll( "<div class='frombtnwrapper'></div>" );;
    });

    /**===Empty Div addclass JS===**/
    if(jQuery('.page-node-type-country .mapWrapper .leftWrapper > div').length == 0){
        jQuery('.page-node-type-country .mapWrapper').addClass('emptySection');
    } 
    if(jQuery('.page-node-type-country .brandsWrapper .view-brands > div').length == 0){
        jQuery('.page-node-type-country .brandsWrapper').addClass('emptySection');
    }
    if(jQuery('.page-node-type-country .localpressWrapper .fullGrid .row > div').length == 0){
        jQuery('.page-node-type-country .localpressWrapper').addClass('emptySection');
    }  

    if(jQuery('.page-node-type-country .language-switcher-language-url ul.links li').length == 1){
        jQuery('.page-node-type-country .language-switcher-language-url').addClass('emptySection');
    }
    if(jQuery('.page-node-type-country .countrytagswrapper  .views-field-field-tags .field-content > div').length == 0){
        jQuery('.page-node-type-country .countrytagswrapper .tags').addClass('emptySection');
        jQuery('.page-node-type-country .countrytagswrapper').addClass('emptySection');        
    }

    if(window.location.hash != "")
    {
        var hash = window.location.href.split("#")[1];

        if(hash.indexOf("=")<0 && $("#"+hash).length>0)
        {
            setTimeout(function() {
                window.scrollTo(0, 0);
            }, 1);
            setTimeout(function(){
                $('html, body').animate({
                    scrollTop: $("#"+hash).offset().top-90
                }, 800);
            },500);
        }
        checkHashValue();
    }

    $("nav li a").on("click",function(e){
        if(typeof($(this).attr("href")) != "undefined")
        {
            if($(this).attr("href").length > 0)
            {
                var hash = $(this).attr("href").split("#")[1];
                if ($(this).attr("href").indexOf("#") >= 0) {
                    if(hash.length>0)
                    {
                        setTimeout(function(){
                            checkHashValue();
                        },200);
                    }
                }
            }
        }    
    });

    $("a.linkbtn").on("click",function(e){
        if(typeof($(this).attr("href")) != "undefined")
        {
            if($(this).attr("href").length > 0)
            {
                var hash = $(this).attr("href").split("#")[1];
                if ($(this).attr("href").indexOf("#") >= 0) {
                    if(hash.length>0)
                    {
                       $('html, body').animate({
                            scrollTop: $("#"+hash).offset().top - 120
                        }, 800);
                    }
                }
            }
        }   else {
            return false;   
        } 
    });
    
    $(document).on("click",".closebtn",function(){
        $(".faqTopicsResponseWrapper").empty();
        $(".faqCategoriesWrapper .category").removeClass("active");
    });

    /* -------- Code to add active class to contact us mega menu link -------- */
    if(window.location.href.indexOf("about-us/contact-us") > 0)
    {
        $("#contactUsLink").addClass("active");
    }
    else if(window.location.href.indexOf("views/newsroom") > 0)
    {
        $("#newsroomLink").addClass("active");
    }

    /* -------- Code to remove active href -------- */
    $(".leftNavSection ul li.active.level0, .navbar-we-mega-menu ul li.active.level0").each(function( index ){
        if($(this).find("li.active.level1 > a").length > 0)
        {
            $(this).find("li.active.level1 > a").removeAttr("href");
        }
        else{        
            $(this).find("> a").removeAttr("href");
        }
    });

    if($("#contactUsLink").hasClass("active"))
    {
        $('#contactUsLink').removeAttr("href");
    }
    else if($("#newsroomLink").hasClass("active")){
        $('#newsroomLink').removeAttr("href");
    }

    /* -------- Code to disable Window scroll when Jquery UI autocomplete shown -------- */
    $(".Mainwrapper .block-header-country-detail-block #edit-country-selection #edit-country-textfield").on("input focusout keyup",function(){
        setTimeout(function(){
            if($('.ui-autocomplete.ui-front').is(':visible'))
            {
                $('body').addClass('scrollHidden');
                $("#header-country-detail-form #edit-country-textfield").autocomplete("search");
            }
            else{
                $('body').removeClass('scrollHidden');

            }   
        },400);
    });

    if($("section.miniDesclimerAcceptText").length > 0) {
        $("#minidisclaimer-form-block a.linkbtn").click(function(e){
            e.preventDefault();
            var selectedRadio = $("#minidisclaimer-form-block input[type='radio']:checked").val();
            if (typeof selectedRadio != 'undefined') {
                if(selectedRadio == 1) {
                    $("section.miniDesclimerAcceptText").slideUp();
                    $("section.miniDesclimerDeclinedText").slideDown();
                }
                else if(selectedRadio == 0) {
                    $("section.miniDesclimerDeclinedText").slideUp();
                    $("section.miniDesclimerAcceptText").slideDown();
                } else {
                    $("section.miniDesclimerAcceptText").hide();
                    $("section.miniDesclimerDeclinedText").hide();
                }
            }
        });
    }

    if($(window).width() > 1180)
    {
        /* -------- Clicks within the dropdown won't make
           it past the dropdown itself -------- */
        $("#header").click(function(e){
          e.stopPropagation();
        });

        $(document).click(function(){
            jQuery('#header .headerwrapper .header-right .locationlink').removeClass('active');   
            jQuery('#header').next().css({'margin-top':'0','transition': 'margin-top 0.3s ease 0s'});
            var scrolled = jQuery(this).scrollTop();            
            jQuery("#header .header-country-detail-form").slideUp();
        });

        $(document).on("scroll",function(e){
            if($(".Mainwrapper .block-header-country-detail-block #edit-country-selection #edit-country-textfield").val() != "" && $('.ui-autocomplete.ui-front').is(':visible')){
                e.preventDefault();
                return;
            }

            if(jQuery('#header .headerwrapper .header-right .locationlink').hasClass('active'))
            {
                jQuery('#header .headerwrapper .header-right .locationlink').removeClass('active');   
                jQuery('#header').next().css({'margin-top':'0','transition': 'margin-top 0.3s ease 0s'});
                var scrolled = jQuery(this).scrollTop();            
                jQuery("#header .header-country-detail-form").slideUp();
            }
        });
    }

    /* -------- Code to handle open in new window via right click -------- */
    jQuery(document).on("contextmenu",".perspectiveSection .pagination",function(e){
        e.stopPropagation();
        alert("This operation is not supported here.");
        e.preventDefault(e);
        return false;
    });

    /* -------- Code to handle open in new window for mouse wheel click -------- */
    jQuery(document).on("mousedown",".perspectiveSection .pagination",function(e){
        if(e.which == 2)
        {
            e.stopPropagation();
            alert("This operation is not supported here.");
            e.preventDefault(e);
            return false;
        }
    });

    jQuery(".counterLink a.linkbtn").each(function(index){
        if(isExternal(jQuery(this).attr("href"))) {
            jQuery(this).attr('target','_blank');
            jQuery(this).attr('title','Opens in a new window');
        }
    });

    if(jQuery("#block-views-block-perspective-list-block-1").length>0)
    {
        catValue = getParameterByName("category");
        if(catValue != null || catValue != "") {
            jQuery("select[data-drupal-selector=edit-field-story-type-target-id]").val(catValue).change();
            jQuery('select').niceSelect('update');
        }
    }

    /* -------- Code to trigger GA event for campaign page -------- */
    setTimeout(function(){
        if(jQuery(".campaignBannerWrapper").length > 0 && drupalSettings.baseUrl.indexOf("jti.com") != -1){
            ga('send', 'event', 'Campaign', 'View',jQuery(".campaignDescriptionWrapper .campaignLabel").text().trim());
        }
    },1500);
    
});

/* -------- Code to query parameter -------- */
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val(element).select();
  document.execCommand("copy");
  $temp.remove();
}

function link_is_external(link_element) {
    if(typeof(link_element.host) != "undefined" && link_element.host != "") {
        return (link_element.host !== window.location.host);
    }
}

var checkDomain = function(url) {
  if ( url.indexOf('//') === 0 ) { url = location.protocol + url; }
  return url.toLowerCase().replace(/([a-z])?:\/\//,'$1').split('/')[0];
};

var isExternal = function(url) {
  return ( ( url.indexOf(':') > -1 || url.indexOf('//') > -1 ) && checkDomain(location.href) !== checkDomain(url) );
};


jQuery(document).ready(function(e){

/* ---------- Adding no-intro class to first article:starts ---------- */
if(!$j('.main-wrapper article').first().find('.field--name-field-intro-text').length){
    $j('.main-wrapper article').first().addClass('no-intro');
}
if(!$j('.main-wrapper article').first().find('.field--name-body').length){
    $j('.main-wrapper article').first().addClass('no-body');
}
/* ---------- Adding no-intro class to first article:ends ---------- */ 

/* ---------- latest news scroll top starts -------- */
jQuery('.pager__item').click(function(e){
    scrollFlag = 1;
});

jQuery(document).ajaxComplete(function(){


    /* -------- JCW - 392 pager in newsletter module -------- */
    if(jQuery('.page-node-type-country .additional-news').length){
        jQuery('.page-node-type-country .additional-news .newsSection').append(jQuery('.page-node-type-country .view-country-additional-news .pager-nav'));
    }
    /* -------- JCW - 392 pager in newsletter module -------- */

    setTimeout(function(e){
        if(scrollFlag > 0){ 
            if(jQuery('#block-views-block-news-releases-block-2').length){
                jQuery('html,body').animate({
                    scrollTop: jQuery('#block-views-block-news-releases-block-2').offset().top
                }, 800);
            }
        }
    },0);

    setTimeout(function(e){
        if((!jQuery('.snapShowHideWrapper .counterWithoutSlider.slick-initialized').length) && (jQuery(window).width() < 767) ){
            jQuery('.snapShowHideWrapper .counterWithoutSlider').slick({
                slidesToShow: 1,
                slidesToScroll: 1,
                dots: true,
                infinite: false,
                arrows: false,
                adaptiveHeight: true,
                speed: 800,                       
            });
        }
    },1000);

    /* ------ Adding class in country page when there is no language switcher starts ------ */
    if(jQuery('.where-we-operate .country-language-switcher').length < 1){
        jQuery('.countryReferenceWrapper').addClass('padding-top');
    }
    /* ------ Adding class in country page when there is no language switcher ends ------ */
});

/* ---------- latest news scroll top ends -------- */

});

/* -------- tag click issue fixes starts -------- */

//This code will work only for IE browser
if(navigator.appName == 'Microsoft Internet Explorer' ||  !!(navigator.userAgent.match(/Trident/) || navigator.userAgent.match(/rv:11/)) )
{ 
    jQuery(document).ready(function(e){
      
        jQuery('.path-frontpage .tags li a').each(function(){

            jQuery(this).removeAttr("onmousedown");
            jQuery(this).removeAttr("data-tagfilterid");
            jQuery(this).removeClass("tag-perspectiveFilter-Link");
            jQuery(this).removeClass("target");

            var datahref = jQuery(this).attr('data-href');
            jQuery(this).attr("href", datahref);

            jQuery(this).removeAttr("data-href");

        })

    });
}

/* -------- tag click issue fixes ends -------- */

jQuery(window).load(function(e){

    /* -------- Lazy loading function starts ------------- */    
    /* ---- 
        Note That isScrolledIntoView function is used for In page navigation too.
        So dont alter that funtion.
        Other wise In page nav will stop working
    ----------- */
    jQuery('.content-variation-wrapper').each( function(e){ 
        if( isScrolledIntoView(jQuery(this)) ){                    
            jQuery(this).animate({'opacity':'1'},1000, function(){
                jQuery(this).addClass("is-visible");
            });      
        }
    });
    /* -------- Lazy loading function starts ------------- */


    /* -------- Country page starts ------------- */ 
    if(jQuery('.localpressWrapper .perspectiveitem').length){
        jQuery('.localpressWrapper .perspectiveitem').each(function(){
            if(!jQuery(this).find('.tags').children().length){
                jQuery(this).find('.body').addClass('last-child');
            }
        });  
    }
    /* -------- Country page function ends ------------- */ 

});


$j(document).ajaxComplete(function() {

/*  -------- Adding row abuot eqnuiries section starts -------- */
    
    if(!$j('.view-id-local_press_contact.view-display-id-block_2 .view-content').hasClass('row')){
        $j('.view-id-local_press_contact').find('.view-content').first().addClass('row');
    }

    if(!$j('.view-id-related_document').find('.view-content').hasClass('row')){
        $j('.view-id-related_document').find('.view-content').first().addClass('row');
    }

/*  -------- Adding row abuot eqnuiries section ends -------- */

});

/* -------- Lazy loading function starts ------------- */

function lazyloading(screenOffsetWidth){

    jQuery('.content-variation-wrapper').each( function(e){
        var bottom_of_object = jQuery(this).offset().top + screenOffsetWidth;
        var bottom_of_window = jQuery(window).scrollTop() + jQuery(window).height();   
        /* If the object is completely visible in the window, fade it it */
        if( bottom_of_window > bottom_of_object ){                    
            jQuery(this).animate({'opacity':'1'},1000, function(){
                jQuery(this).addClass("is-visible");
            });      
        }
    });

}

/* -------- Lazy loading function ends ------------- */;
jQuery(document).ready(function () {
	
	if(jQuery('.rightnavigationactive').length > 0){
		jQuery('.flyoutWrapper').addClass('withrightsidenav');
	}
	
	jQuery(".samenewslink").click(function(e){
		jQuery('.we-mega-menu-ul>.we-mega-menu-li').trigger("mouseout");
		jQuery(this).trigger("mouseout");
		$(this).unbind("mouseenter mouseleave");
		jQuery('.we-mega-menu-ul .dropdown-menu >.we-mega-menu-submenu').css("display","none");		
	});
	jQuery('.we-mega-menu-ul .dropdown-menu:hover >.we-mega-menu-submenu').css("display","block");

	jQuery(document).click(function(e){
		if(!jQuery(e.target).is('.flyoutbtn, .flyoutcontentwrap *, .mfp-content *, .mfp-close-btn-in .mfp-close, .mfp-wrap *,.mfp-wrap')){
			if(jQuery('.flyoutbtn').hasClass('active')){
				jQuery('.flyoutbtn').removeClass('active');
				jQuery('.flyoutWrapper').removeClass('active');				 
			}
		}
	});

	jQuery(".flyoutWrapper .flyout .flyoutcontent .yourcountry a").click(function(e){
		if (jQuery(window).width() > 767){
	  		jQuery('.flyoutbtn').removeClass('active');
			jQuery('.flyoutWrapper').removeClass('active');
			jQuery(".localization-menu-form").addClass('open');
			jQuery("#block-localizationmenublock #edit-country-form").css('display','block');
			e.stopPropagation();
		}else{
			jQuery('.mobi-menu-trigger').trigger('click');	        
			if(!jQuery('.mmenu .locationlink').hasClass('active')){
				jQuery('.mmenu .locationlink').trigger('click');
			}	
			e.stopPropagation();
		}
		return false;
	});

	/* On window resize re-call position */
	jQuery(window).resize(function() {
	// alert();				
	  	re_initialize_position();
	});

	/*Where we oprate page JS */	
	jQuery(".where-we-operate .our-global-reachWrapper ul.tabLabels li").click(function(e){
		// setTimeout(function(){
			/* ---- Counters starts --------- */
		        if($(".counterWrapper .counterWithoutSlider").length){
		            if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
		                counterEqualHeight.reGroup();
		            }else{
		                counterEqualHeightFunction();
		            }
		        }
		/* ---- Counters ends --------- */
		// }, 50);    
	});

});

function re_initialize_position(){
	setTimeout(function(){
		jQuery('div[data-flyParentClass]').each(function(){		
			var eachflyouttop = jQuery(this).position();
			var parentclass = jQuery(this).attr('data-flyParentClass');			
			jQuery(this).attr('data-scrolltop', eachflyouttop.top);
			jQuery('div[data-flyClass='+parentclass+']').css('top', eachflyouttop.top);
		});
	}, 500);	
}

function makeid(){
  var text = "";
  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  for (var i = 0; i < 5; i++)
    text += possible.charAt(Math.floor(Math.random() * possible.length));
  return text;
}


jQuery(window).load(function() {
	if (jQuery(window).width() > 767) {

	jQuery(".topcontentcontainer .flyoutWrapper").each(function() {
		
		// if(jQuery(this).find('.flyout').length > 0){
			var eachflyouttop = jQuery(this).parent().position();
			jQuery(this).attr('data-scrollTop', eachflyouttop.top);
			var rendomstr = makeid();
			jQuery(this).attr('data-flyClass', rendomstr);
			jQuery(this).parent().attr('data-flyParentClass', rendomstr);		
			jQuery(this).parent().attr('data-scrollTop', eachflyouttop.top);
			jQuery(this).css('top', eachflyouttop.top);
			var flyoutDom = jQuery(this).detach();
			jQuery('body').append(flyoutDom);
		// }

	});

	jQuery(".main-wrapper .flyoutWrapper").each(function() {
		// if(jQuery(this).find('.flyout').length > 0){
			var eachflyouttopdf = jQuery(this).parents('.main-wrapper').position();
			jQuery(this).attr('data-scrollTop', eachflyouttopdf.top);
			var rendomstr = makeid();
			jQuery(this).attr('data-flyClass', rendomstr);
			jQuery(this).parents('.main-wrapper').attr('data-flyParentClass', rendomstr);
			jQuery(this).parents('.main-wrapper').attr('data-scrollTop', eachflyouttopdf.top);
			jQuery(this).css('top', eachflyouttopdf.top);
			var flyoutDomsd = jQuery(this).detach();
			jQuery('body').append(flyoutDomsd);
		// }

	});


	jQuery(".bottomcontentcontainer .flyoutWrapper").each(function() {
		// if(jQuery(this).find('.flyout').length > 0){
			var eachflyouttopss = jQuery(this).parent().position();
			jQuery(this).attr('data-scrollTop', eachflyouttopss.top);
			var rendomstr = makeid();
			jQuery(this).attr('data-flyClass', rendomstr);
			jQuery(this).parent().attr('data-flyParentClass', rendomstr);
			jQuery(this).parent().attr('data-scrollTop', eachflyouttopss.top);
			jQuery(this).css('top', eachflyouttopss.top);
			var flyoutDoms = jQuery(this).detach();
			jQuery('body').append(flyoutDoms);
		// }
	});
	}
});

;
(function ($) {
  Drupal.behaviors.global_styling = {
    attach: function (context, settings) {

        /* -------- Isotope Js -------- */
        //setEqualHeight([".perspectiveSection .perspectiveitem"]);
        jQuery(".page-node-type-country .perspectiveSection .perspectiveitem").css('height', 'auto');
        //setEqualHeight([".page-node-type-country .view-perspective-list .perspectiveSection .perspectiveitem"]);        
       
        if(jQuery('.perspectiveWrapper > .stotywrapper').length <= 0){           
            var divsddfsd = jQuery(".perspectiveWrapper .perspectiveitem");
            for(var i = 0; i < divsddfsd.length; i+=3) {
              divsddfsd.slice(i, i+3).wrapAll("<div class='stotywrapper'></div>");
            }
            jQuery('.perspectiveWrapper .stotywrapper:odd').addClass('odd');
            jQuery('.perspectiveWrapper .stotywrapper:even').addClass('even');
        }

        /* -------- BOD JS Starts -------- */
        jQuery(".pop-up-mobiwrapper").css('display', 'none');

        jQuery(".pop-up-wrapper").hide();

        jQuery(".bodwrapper.block-views-blockpeople-block-1 .member-wrapper,.bodwrapper.block-views-blockpeople-block-2 .member-wrapper").unbind().click(function (e) {
            e.preventDefault();
            if (jQuery(window).width() >= 768) {
                
                if (!jQuery(this).hasClass('hvr')) {
                    jQuery(".bodwrapper .member-wrapper").removeClass('hvr');
                    jQuery(".bodwrapper .bod-item").removeClass('hvr');
                    jQuery(".pop-up-wrapper").slideUp("slow");
                    jQuery(this).addClass('hvr');
                    jQuery(this).parent('.bod-item').addClass('hvr');
                    var idd = jQuery(this).attr("id");
                    jQuery(this).parentsUntil('.bodcontainer').find("#pi-" + idd).slideDown("slow" , function() {
                        jQuery("html, body").animate({
                            scrollTop: jQuery(this).offset().top - 90
                        }, 500);
                    });
                    
                } else {
                    jQuery(".pop-up-wrapper").slideUp("slow");
                    jQuery(".bodwrapper  .member-wrapper").removeClass('hvr');
                    jQuery(".bodwrapper .bod-item").removeClass('hvr');
                }
            }else{
                if (!jQuery(this).hasClass('hvr')) {
                    jQuery(".bodwrapper  .member-wrapper").next().slideUp();
                    jQuery(".bodwrapper  .member-wrapper").removeClass('hvr');
                    jQuery(".bodwrapper .bod-item").removeClass('hvr');
                    jQuery(this).addClass('hvr'); 
                    jQuery(this).parent('.bod-item').addClass('hvr');               
                    jQuery(this).next().slideDown("slow", function () {
                        jQuery("html, body").animate({
                            scrollTop: jQuery(this).parent().offset().top - 90
                        }, 500);
                    });
                } else {
                    jQuery(".bodwrapper  .member-wrapper").next().slideUp("slow");
                    jQuery(".bodwrapper  .member-wrapper").removeClass('hvr');
                    jQuery(".bodwrapper .bod-item").removeClass('hvr');
                }
            }
        });
        
        jQuery(".bodwrapper  .closebtn").click(function (e) {
            e.preventDefault();
            jQuery(".bodwrapper  .member-wrapper").removeClass('hvr');
            jQuery(".bodwrapper .bod-item").removeClass('hvr');
            jQuery(".pop-up-wrapper").slideUp();
        });

        setEqualHeight([".bodwrapper .bod-item"]);

        /* -------- BOD JS Ends -------- */
        $(document).ajaxStop(function() {
            if(jQuery("#videoPlayer3").length>0){      
                jQuery("#videoPlayer3").InvPlayer({
                    onPlayerReady: function() {
                        jQuery("#bannerwrapper .bannerslider .banneritem .banneritemsection .videobtn").show();
                    }
                });
            }     

            jQuery('.videobtn').magnificPopup({
                type: 'inline',        
                preloader: false,
                removalDelay: 300, 
                enableEscapeKey: false,
                callbacks: {
                    open: function() {
                      jQuery('html').addClass('popupon');
                    },
                    close: function() {
                       jQuery('html').removeClass('popupon');
                    }                                   
                  }     
            });

            $.magnificPopup.instance.close = function () {
                $("#videoPlayer3").InvPlayer().done(function(e) {
                    e.pauseVideo();
                });
               /* $(".videoPlayer2").InvPlayer().done(function(e) {
                    e.pauseVideo();
                });*/
                $(".videoPlayer5").InvPlayer().done(function(e) {
                    e.pauseVideo();
                });
                 // "proto" variable holds MagnificPopup class prototype
                 // The above change that we did to instance is not applied to the prototype, 
                 // which allows us to call parent method:
                 $.magnificPopup.proto.close.call(this);
            };
        });

        $('form#views-exposed-form-perspective-list-block-1 div.form-item-field-story-type-target-id select').change(function() {

            $(document).ajaxStart(function() {
               $('body').addClass("loaderon");
               $('.loaderbtn').css('display','block');
            });

            $("#views-exposed-form-perspective-list-block-1 .form-submit").trigger("click");
            
            $(document).ajaxStop(function() {
                if(sessionStorage.getItem("eventgridorlist")) {
                    if(sessionStorage.getItem("eventgridorlist") == "grid") {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                        jQuery('.perspectiveSection .gridview').fadeIn();
                        jQuery('.perspectiveSection .listview').fadeOut();
                    } else {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .listIcon").addClass('active');
                        jQuery('.perspectiveSection .listview').fadeIn();
                        jQuery('.perspectiveSection .gridview').fadeOut();
                    }
                } else {
                    //Active grid
                    sessionStorage.eventgridorlist = "grid";
                    jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                    jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                    jQuery('.perspectiveSection .gridview').fadeIn();
                    jQuery('.perspectiveSection .listview').fadeOut();
                }
                jQuery('.loaderbtn').css('display','none');
                $('body').removeClass("loaderon");
            });
        });

        $('form#views-exposed-form-perspective-list-block-1 div.form-item-field-story-region-target-id select').change(function() {

            $(document).ajaxStart(function() {
               $('body').addClass("loaderon");
               $('.loaderbtn').css('display','block');
            });

            $("#views-exposed-form-perspective-list-block-1 .form-submit").trigger("click");
            
            $(document).ajaxStop(function() {
                if(sessionStorage.getItem("eventgridorlist")) {
                    if(sessionStorage.getItem("eventgridorlist") == "grid") {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                        jQuery('.perspectiveSection .gridview').fadeIn();
                        jQuery('.perspectiveSection .listview').fadeOut();
                    } else {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .listIcon").addClass('active');
                        jQuery('.perspectiveSection .listview').fadeIn();
                        jQuery('.perspectiveSection .gridview').fadeOut();
                    }
                } else {
                    //Active grid
                    sessionStorage.eventgridorlist = "grid";
                    jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                    jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                    jQuery('.perspectiveSection .gridview').fadeIn();
                    jQuery('.perspectiveSection .listview').fadeOut();
                }

               
                jQuery('.loaderbtn').css('display','none');
                $('body').removeClass("loaderon");
            });
        });

        $('#views-exposed-form-perspective-list-block-1 .form-type-checkbox').change(function() {

            $(document).ajaxStart(function() {
               $('body').addClass("loaderon");
               $('.loaderbtn').css('display','block');
            });

            $("#views-exposed-form-perspective-list-block-1 .form-submit").trigger("click");

            $(document).ajaxStop(function() {

                $(".perspectiveSection .views-exposed-form .form--inline .form-checkboxes .checkbox label .form-checkbox").each(function(){
                    if ($(this).prop('checked')==true){
                        $(this).parents('label').addClass('checked');
                    }
                }); 

                if(sessionStorage.getItem("eventgridorlist")) {
                    if(sessionStorage.getItem("eventgridorlist") == "grid") {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                        jQuery('.perspectiveSection .gridview').fadeIn();
                        jQuery('.perspectiveSection .listview').fadeOut();
                    } else {
                        jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                        jQuery(".perspectiveSection .view-header .gridList .listIcon").addClass('active');
                        jQuery('.perspectiveSection .listview').fadeIn();
                        jQuery('.perspectiveSection .gridview').fadeOut();
                    }
                } else {
                    //Active grid
                    sessionStorage.eventgridorlist = "grid";
                    jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
                    jQuery(".perspectiveSection .view-header .gridList .gridIcon").addClass('active');
                    jQuery('.perspectiveSection .gridview').fadeIn();
                    jQuery('.perspectiveSection .listview').fadeOut();
                }

                jQuery('.loaderbtn').css('display','none');
                
                $('body').removeClass("loaderon");
            });
        });

        jQuery('.select-wrapper').attr('class', function() {
            return jQuery(this).attr('class').replace('select-wrapper', 'select-wrapperr');
        });

        jQuery('.localizationMenuWrapper .select-wrapperr').attr('class', function() {
            return jQuery(this).attr('class').replace('select-wrapperr', 'select-localization-wrapper');
        });

        jQuery('.select-wrapperr select').niceSelect();

        setTimeout(function(){
           jQuery('.form-item-country .select-wrapperr select,.form-item-brand .select-wrapperr select').niceSelect('destroy');
           jQuery('.form-item-country .select-wrapperr select,.form-item-brand .select-wrapperr select').chosen();
        }, 3000);

        jQuery('.select-wrapperr select').change(function() {
            $("#views-exposed-form-perspective-list-block-1 .form-submit").trigger("click");
        });
        
        if(jQuery('.perspectiveSection .views-exposed-form .form--inline .labell').length == 0){
            jQuery('.perspectiveSection .views-exposed-form .form--inline').prepend("<div class='labell'>Filter by:</div>");
        }        
        
        jQuery('.perspectiveSection .listview .listviewWrapper .listitemWrapper').hover(function () {            
            jQuery(this).addClass('active');
            jQuery(this).prev().addClass('activeprev');
        },
            function () {
                jQuery(this).removeClass('active');
                jQuery(this).prev().removeClass('activeprev');
            }
        );

        $(".perspectiveSection .views-exposed-form .form--inline .form-checkboxes .checkbox label").find("form-checkbox").each(function(){
            if ($(this).prop('checked')==true){ 
                alert();
                $(this).parent('label').addClass('checked');
            }
        });
        
        jQuery('.perspectiveSection .view-header .gridList .gridIcon').addClass('active');

        jQuery(".perspectiveSection .view-header .gridList .gridIcon").click(function (e) {
            //Active grid
            sessionStorage.eventgridorlist = "grid";
            jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
            jQuery(this).addClass('active');
            jQuery('.perspectiveSection .gridview').fadeIn();
            jQuery('.perspectiveSection .listview').fadeOut();
        });

        jQuery(".perspectiveSection .view-header .gridList .listIcon").click(function (e) {
            //Active list
            sessionStorage.eventgridorlist = "list";
            jQuery('.perspectiveSection .view-header .gridList span').removeClass('active');
            jQuery(this).addClass('active');
            jQuery('.perspectiveSection .listview').fadeIn();
            jQuery('.perspectiveSection .gridview').fadeOut();
        });

        if (jQuery(window).width()  < 1025) {
            if(jQuery('.perspectiveSection .views-exposed-form .filterbutton').length == 0){
                jQuery('.perspectiveSection .views-exposed-form').prepend('<div class="filterbutton">Filter</div>');
            }
            jQuery('.perspectiveSection .views-exposed-form .filterbutton').unbind().click(function (e) {
                if (jQuery(this).hasClass('active')) {
                    jQuery(this).removeClass('active');
                    jQuery(this).next().slideUp();
                }else{
                   jQuery(this).addClass('active');
                   jQuery(this).next().slideDown();
                }
            });
        }

        /* -------- Where We Operate page js -------- */
        if(jQuery('.page-node-36').length > 0){
            jQuery('body').addClass('where-we-operate nocontactus');
            jQuery('body').removeClass('page-node-type-page');
        }

        if(jQuery('body').hasClass('where-we-operate')) {
            if(jQuery('.where-we-operate .our-global-reachWrapper .field--name-field-reference-contents  .field--item:first-child .firsttab').length == 0){
                var tab_text = jQuery('.our-global-reachWrapper .field--name-field-reference-contents  .field--item:first-child h2').html();
                jQuery('.our-global-reachWrapper .field--name-field-reference-contents  .field--item:first-child').prepend("<div class='tabtitle firsttab'>"+ tab_text +"</div>");
                
                // jQuery('.our-global-reachWrapper .field').prepend('<ul class="tabLabels"></ul>'); 
                jQuery(".our-global-reachWrapper .field--name-field-reference-contents  .field--item .tabtitle").each(function(){
                    var tab_textdf = jQuery(this).html();
                    var tab_Title = jQuery(this).html();
                    tab_textdf = tab_textdf.replace(' ', '').toLowerCase();
                    jQuery(this).addClass(tab_textdf);
                    jQuery(".our-global-reachWrapper .field  ul.tabLabels").append("<li class="+tab_textdf+">"+tab_Title+"</li>");          
                });
                
            }

            jQuery('.where-we-operate .our-global-reachWrapper .field  ul.tabLabels li:first-child').addClass('current');

            jQuery(".where-we-operate .our-global-reachWrapper .field  ul.tabLabels li").click(function (){
                if(jQuery(this).hasClass('current')){
                }else{                
                    if(jQuery(this).hasClass('global')){
                        jQuery(".our-global-reachWrapper .field  ul.tabLabels li").removeClass('current');
                        jQuery(".our-global-reachWrapper .regiontabWrapper .tabitemWrap").hide();
                        jQuery('.view-region-country-tab .regionCountry').removeClass('active');
                        jQuery(".where-we-operate .regionCountryTabResponse").html('');
                        jQuery(this).addClass('current');
                        jQuery(".our-global-reachWrapper .jticorpmodule-counter").show();
                        jQuery(".our-global-reachWrapper .fullImagebannerSection").show();
                        
                    }else{
                        jQuery(".our-global-reachWrapper .field  ul.tabLabels li").removeClass('current');
                        jQuery(".our-global-reachWrapper .jticorpmodule-counter").hide();
                        jQuery(".our-global-reachWrapper .fullImagebannerSection").hide();
                        jQuery(".our-global-reachWrapper .regiontabWrapper .tabitemWrap").hide();
                        jQuery('.view-region-country-tab .regionCountry').removeClass('active');
                        jQuery(".where-we-operate .regionCountryTabResponse").html('');
                        jQuery(this).addClass('current');
                        var tab_textdf = jQuery(this).html();
                        tab_textdf = tab_textdf.replace(' ', '').toLowerCase();
                        var tabvalue = '.' + tab_textdf;
                        jQuery(".our-global-reachWrapper .regiontabWrapper").find(tabvalue).next().show();
                    }
                    
                }
                
            });

            jQuery(".where-we-operate .our-global-reachWrapper .field  ul.tabLabels li.current").click(function (e) { e.stopPropagation(); });
            
            jQuery('.where-we-operate .countryInfromationWrapper .brandsWrapper .dropbtn').addClass('active');

            jQuery(".brandsWrapper .dropbtn").click(function (){
                if(jQuery(this).hasClass('active')){
                   jQuery(this).removeClass('active');
                   jQuery('.where-we-operate .countryInfromationWrapper .brandsWrapper .brand-header').addClass('activecc');
                   jQuery(".brandsWrapper .view-content").slideUp();
                }else{
                   jQuery(this).addClass('active');
                   jQuery('.where-we-operate .countryInfromationWrapper .brandsWrapper .brand-header').removeClass('activecc');
                   jQuery(".brandsWrapper .view-content").slideDown();
                }
            });

            setEqualHeight([".where-we-operate .countryInfromationWrapper .relatedDocWrapper .related-documents"]);

            if(jQuery(".country-selection-form").length > 0){
                if(jQuery(".our-global-reachWrapper .field .field--item").length > 0){
                    var countryselectionform = jQuery('.country-selection-form').html();                    
                    jQuery(".our-global-reachWrapper .field .field--item .jticorpmodule-counter").append('<div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12"><div class="country-selection-form">' + countryselectionform + '</div></div>');
                }                
            }
            
        }        
        /* -------- Where We Operate page js Ends -------- */
        
        /* -------- Contact us page JS -------- */
        if(jQuery('.page-node-144').length > 0){
            jQuery('body').addClass('where-we-operate contactus');
            jQuery('body').removeClass('page-node-type-page');
        }
        /* -------- Contact us page JS -------- */     
    }
  }
})(jQuery);;
var map;
jQuery(document).ready(function () {
	if( jQuery(".map").length > 0 ) {
		google.maps.event.addDomListener(window, 'load', init);
	}
});
function init() {
    // Basic options for a simple Google Map
    // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions    
	jQuery(".map").each(function(){
	    var latitude = parseFloat(jQuery(this).attr("latitude"));
		var longitude = parseFloat(jQuery(this).attr("longitude"));
		var mapId = jQuery(this).attr("id");

		var mapOptions = {
	        // How zoomed in you want the map to start at (always required)
	        zoom: 11,

	        // The latitude and longitude to center the map (always required)
	        center: new google.maps.LatLng(latitude, longitude), // New York
			mapTypeControl: false,
	        // How you would like to style the map. 
	        // This is where you would paste any style found on Snazzy Maps.
	        styles: [{"featureType": "all", "elementType": "labels.text.fill", "stylers": [{"saturation": 36 }, {"color": "#333333"}, {"lightness": 40 } ] }, {"featureType": "all", "elementType": "labels.text.stroke", "stylers": [{"visibility": "on"}, {"color": "#ffffff"}, {"lightness": 16 } ] }, {"featureType": "all", "elementType": "labels.icon", "stylers": [{"visibility": "off"} ] }, {"featureType": "administrative", "elementType": "geometry.fill", "stylers": [{"color": "#fefefe"}, {"lightness": 20 } ] }, {"featureType": "administrative", "elementType": "geometry.stroke", "stylers": [{"color": "#fefefe"}, {"lightness": 17 }, {"weight": 1.2 } ] }, {"featureType": "landscape", "elementType": "geometry", "stylers": [{"color": "#ffffff"}, {"lightness": 20 } ] }, {"featureType": "poi", "elementType": "geometry", "stylers": [{"color": "#f1f1f1"}, {"lightness": 21 } ] }, {"featureType": "road.highway", "elementType": "geometry.fill", "stylers": [{"color": "#dedede"}, {"lightness": 17 } ] }, {"featureType": "road.highway", "elementType": "geometry.stroke", "stylers": [{"color": "#dedede"}, {"lightness": 29 }, {"weight": 0.2 } ] }, {"featureType": "road.arterial", "elementType": "geometry", "stylers": [{"color": "#dedede"}, {"lightness": 18 } ] }, {"featureType": "road.local", "elementType": "geometry", "stylers": [{"color": "#ffffff"}, {"lightness": 16 } ] }, {"featureType": "transit", "elementType": "geometry", "stylers": [{"color": "#f2f2f2"}, {"lightness": 19 } ] }, {"featureType": "water", "elementType": "geometry", "stylers": [{"color": "#a0d6d1"}, {"lightness": 17 } ] } ]
	    };

	    // Get the HTML DOM element that will contain your map 
	    // We are using a div with id="map" seen below in the <body>
	    var mapElement = document.getElementById(mapId);

	    // Create the Google Map using our element and options defined above
	    var map = new google.maps.Map(mapElement, mapOptions);

	    // Let's also add a marker while we're at it
	    var customMarker = '/themes/investis_bootstrap/images/mapMarker.png';
	    var customTitle  = typeof(jQuery(this).attr("hover-title"))!= undefined ? jQuery(this).attr("hover-title") : "JTI Location";
	    var marker = new google.maps.Marker({
	        position: new google.maps.LatLng(latitude, longitude),
	        icon: customMarker,
	        map: map,
	        title: customTitle
	    });
	});
};
jQuery(document).ready(function () {
    // if (jQuery(window).width() <= 1180) {

    	
    	jQuery('.mobi-menu-trigger').css('display','none');
    	if(jQuery('.mmenu').length == 0 ){
    		jQuery('body').prepend("<div class='mmenu'><div class='mmenuinner'></div></div>"); 
    	}

    	var mainmenu = jQuery('#header .headerwrapper .header-left .headerleftWrapper .mainmegamenusection').clone();
    	var searchbtn = jQuery('.mid-solr-search-form').clone();
    	//var headercountryform = jQuery('#header .header-country-detail-form').clone();    

	    jQuery('.mmenuinner').append('<a class="searchbtn" href="javascript:void(0);">search</a>');
    	jQuery('.mmenuinner').append(searchbtn);
	    jQuery('.mmenuinner').append(mainmenu);
	    if (jQuery(window).width() <= 1181) {
			var headercountryform = jQuery('.header-right .header-localization-menu-wrapper').detach();    
		    jQuery('.mmenuinner').append('<a class="locationlink" href="#">Locations<span class="arr"></span></a>');
		    jQuery('.mmenuinner').append(headercountryform);
	    }
    	
	    jQuery( ".mmenu .mainmegamenusection ul li.we-mega-menu-li.dropdown-menu" ).each(function() {
	        if(jQuery(this).find("ul").length){
	            jQuery(this).append("<span class='arr'></span>");
	        }
	    });	 
	    

	    /*=======Mobile Menu JS STARTS========*/
	    jQuery('#header .mobi-menu-trigger').click(function (e) {
	    	/*if(!jQuery('.megamenu-views-second-top-wrapper .snap-open').first().parent().hasClass('active')){
	           		jQuery('.megamenu-views-second-top-wrapper .snap-open').first().trigger('click');
	        }*/
	        if (jQuery(this).hasClass('active')) {
	            jQuery(this).removeClass('active');
	            jQuery('body').removeClass('mm-opening');
	            jQuery('html').removeClass('mm-opening');
	            jQuery('.mmenu').removeClass('mm-slideout');
	            jQuery('#Mainwrapper').removeClass('mm-slideout');
	        }else{
	           jQuery(this).addClass('active'); 
	           jQuery('body').addClass('mm-opening'); 
	           jQuery('html').addClass('mm-opening');
	            jQuery('.mmenu').addClass('mm-slideout');
	           jQuery('#Mainwrapper').addClass('mm-slideout');
	        }
	    });
	    jQuery('.mmenu .searchbtn').click(function (e) {
	        if (jQuery(this).hasClass('active')) {
	            jQuery(this).removeClass('active');
	            jQuery(this).next().slideUp();
	        }else{
	           jQuery(this).addClass('active');
	           jQuery(this).next().slideDown();	           
	           jQuery("#solrstrap-searchbox-form").focus();
	        }
	    });
	    jQuery('.mmenu .locationlink').click(function (e) {
	        if (jQuery(this).hasClass('active')) {
	            jQuery(this).removeClass('active');
	            jQuery(this).next().slideUp();
	        }else{
	           jQuery('.mmenu .dropdown-menu').removeClass('open');
	           jQuery('.mmenu .we-mega-menu-submenu').slideUp()
	           jQuery(this).addClass('active');
	           jQuery(this).next().slideDown();
	        }
	    });

	    jQuery('.mmenu .dropdown-menu a').click(function (e) {	    
		    // jQuery(".mmenu.mm-slideout .mmenuinner").animate({
	     //        scrollTop: 0
	     //    }, 500);
	        jQuery('.mmenu .locationlink').removeClass('active');
		    jQuery('.mmenu .locationlink').next().slideUp();
	    });

	    jQuery(document).on('click','.mmenu .mainmegamenusection .navbar-we-mega-menu.navbar li.open .arr', function(ev) {  
		    jQuery(this).parent('li').removeClass('open');
		    jQuery(this).prev().slideUp();	         
		});
		if(jQuery(".megamenu-viewscolumn-wrapper").length > 0) {
		    if(jQuery(window).width() <= 768){
		        jQuery(".megamenu-viewscolumn-wrapper a").click(function() {
		        	setTimeout(function(){ 
			    		jQuery("#header .mobi-menu-trigger").removeClass('active');
			            jQuery('body').removeClass('mm-opening');
			            jQuery('html').removeClass('mm-opening');
			            jQuery('.mmenu').removeClass('mm-slideout');
			            jQuery('#Mainwrapper').removeClass('mm-slideout');
			        }, 500);    
		        });
		    }
		}
	    var skiplink = jQuery('.skip-link').detach();
	    jQuery('body').prepend(skiplink);

	    jQuery(jQuery(".page-header.hideTitle").detach()).prependTo("body");

    // }
});
;
var $ = jQuery;
(function (jQuery, window, document, undefined) {
    jQuery.responsiveWeb = function (element, options) {
        var windowadaptTimeout;
        var tempCounter = 0;
        var winWidth;
        var winHeight;
        this.options = {};
        var that = this;
        element.data("responsiveWeb", this);
        this.init = function (element, options) {
            this.options = jQuery.extend({}, jQuery.responsiveWeb.defaultOptions, options);
            options = this.options;
            element.resize(checkResize);
            checkResize();
            if (options.manipulateDesign) {
                manipulateDesign()
            }
        };

        function delayedResize() {
            options = that.options;
            var winNewWidth = jQuery(window).width();
            var winNewHeight = jQuery(window).height();
            if (winWidth != winNewWidth || winHeight != winNewHeight) {
                winWidth = winNewWidth;
                winHeight = winNewHeight;
                if (options.applyBodyClasses) {
                    applyBodyClasses()
                }
                if (options.rearrangeObjects) {
                    rearrangeObjects()
                }
            }
        }

        function checkResize() {
            window.clearTimeout(windowadaptTimeout);
            windowadaptTimeout = window.setTimeout(delayedResize, 250)
        }

        function applyBodyClasses() {
            options = that.options;
            clearBodyClasses();
            var currcC = "";
            var tmpWidth = decideResolution();
            var tmpArrWidth = tmpWidth.split(" ");
            tmpWidth = tmpArrWidth[0];
            if (options.applyPlatform) {
                currcC += decidePlatform()
            }
            if (options.applyBrowser) {
                currcC += decideBrowser()
            }
            if (options.applyResolution) {
                currcC += decideResolution()
            }
            jQuery("body").addClass(currcC);
            jQuery("body").attr("data-width", tmpWidth.substr(1));
            if (options.debug) {
                log(winWidth + "x" + winHeight + " || " + jQuery("body").attr("class"))
            }
        }

        function log(str) {
            var debugDiv = '<div class="debugDiv" style="position:absolute;top:0;right:0;padding:2px;background:black;color:lime;font-size:9px;line-height:9px;"></div>';
            if (jQuery(".debugDiv ul").length) {
                jQuery(".debugDiv ul").append("<li>" + str + "</li>")
            } else {
                jQuery("body").append(debugDiv);
                jQuery(".debugDiv").append("<ul></ul>");
                jQuery(".debugDiv ul").append("<li>" + str + "</li>")
            }
        }

        function decidePlatform() {
            var cC = "";
            var platform = navigator.userAgent;
            if (platform.indexOf("Windows") > 0) {
                cC = "windows "
            } else {
                if (platform.indexOf("Linux") > 0 && platform.indexOf("Android") < 0) {
                    cC = "linux "
                } else {
                    if (platform.indexOf("Mac") > 0 && (platform.indexOf("iphone") < 0 || platform.indexOf("ipad") < 0)) {
                        cC = "mac "
                    } else {
                        if (platform.indexOf("iPhone") > 0) {
                            cC = "iphone "
                        } else {
                            if (platform.indexOf("iPad") > 0) {
                                cC = "ipad "
                            } else {
                                if (platform.indexOf("Android") > 0) {
                                    cC = "android "
                                }
                            }
                        }
                    }
                }
            }
            return cC
        }

        function decideBrowser() {
            var cC = "";
            options = that.options;
            var nVer = navigator.appVersion;
            var nAgt = navigator.userAgent;
            var browserName = navigator.appName;
            var fullVersion = "" + parseFloat(navigator.appVersion);
            var majorVersion = parseInt(navigator.appVersion, 10);
            var nameOffset, verOffset, ix;
            if ((verOffset = nAgt.indexOf("Opera")) != -1) {
                browserName = "opera";
                fullVersion = nAgt.substring(verOffset + 6);
                if ((verOffset = nAgt.indexOf("Version")) != -1) {
                    fullVersion = nAgt.substring(verOffset + 8)
                }
            } else {
                if ((verOffset = nAgt.indexOf("MSIE")) != -1) {
                    browserName = "msie";
                    fullVersion = nAgt.substring(verOffset + 5)
                } else {
                    if ((verOffset = nAgt.indexOf("Chrome")) != -1) {
                        browserName = "chrome";
                        fullVersion = nAgt.substring(verOffset + 7)
                    } else {
                        if ((verOffset = nAgt.indexOf("Safari")) != -1) {
                            browserName = "safari";
                            fullVersion = nAgt.substring(verOffset + 7);
                            if ((verOffset = nAgt.indexOf("Version")) != -1) {
                                fullVersion = nAgt.substring(verOffset + 8)
                            }
                        } else {
                            if ((verOffset = nAgt.indexOf("Firefox")) != -1) {
                                browserName = "firefox";
                                fullVersion = nAgt.substring(verOffset + 8)
                            } else {
                                if ((nameOffset = nAgt.lastIndexOf(" ") + 1) < (verOffset = nAgt.lastIndexOf("/"))) {
                                    browserName = nAgt.substring(nameOffset, verOffset);
                                    fullVersion = nAgt.substring(verOffset + 1);
                                    if (browserName.toLowerCase() == browserName.toUpperCase()) {
                                        browserName = navigator.appName
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if ((ix = fullVersion.indexOf(";")) != -1) {
                fullVersion = fullVersion.substring(0, ix)
            }
            if ((ix = fullVersion.indexOf(" ")) != -1) {
                fullVersion = fullVersion.substring(0, ix)
            }
            majorVersion = parseInt("" + fullVersion, 10);
            if (isNaN(majorVersion)) {
                fullVersion = "" + parseFloat(navigator.appVersion);
                majorVersion = parseInt(navigator.appVersion, 10)
            }
            if (options.applyBrowser) {
                cC += browserName + " "
            }
            if (options.applyBrowserVersion) {
                cC += browserName + majorVersion + " "
            }
            return cC
        }

        function decideResolution() {
            var h = jQuery(window).height();
            var w = jQuery(window).width();
            var cC = "";
            if (w >= 1880) {
                cC = "w1920 "
            } else {
                if (w >= 1560) {
                    cC = "w1600 "
                } else {
                    if (w >= 1400) {
                        cC = "w1440 "
                    } else {
                        if (w >= 1240) {
                            cC = "w1280 "
                        } else {
                            if (w >= 984) {
                                cC = "w1024 "
                            } else {
                                if (w >= 728) {
                                    cC = "w768 "
                                } else {
                                    if (w >= 440) {
                                        cC = "w480 "
                                    } else {
                                        if (w >= 280) {
                                            cC = "w320 "
                                        } else {
                                            cC = "wtiny "
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (h >= 864) {
                cC += "h1024 "
            } else {
                if (h >= 740) {
                    cC += "h900 "
                } else {
                    if (h >= 608) {
                        cC += "h768 "
                    } else {
                        if (h >= 440) {
                            cC += "h600 "
                        } else {
                            if (h >= 320) {
                                cC += "h480 "
                            } else {
                                cC += "htiny "
                            }
                        }
                    }
                }
            }
            return cC
        }

        function clearBodyClasses() {
            jQuery("body").removeClass("w1920 w1600 w1440 w1280 w1024 w768 w480 w320 wtiny h1024 h900 h768 h600 h480 htiny")
        }
        this.init(element, options)
    };
    jQuery.fn.responsiveWeb = function (options) {
        return this.each(function () {
            (new jQuery.responsiveWeb(jQuery(this), options))
        })
    };
    jQuery.responsiveWeb.defaultOptions = {
        applyBodyClasses: true,
        applyResolution: true,
        applyPlatform: true,
        applyBrowser: true,
        applyBrowserVersion: true,
        manipulateDesign: true,
        rearrangeObjects: true,
        debug: false
    }
})(jQuery, window, document);

function viewport() {
    var e = window, a = 'inner';
    if (!('innerWidth' in window)) {
        a = 'client';
        e = document.documentElement || document.body;
    }
    return {width: e[ a + 'Width' ], height: e[ a + 'Height' ]};
}

function manipulateDesign() {
}

function rearrangeObjects() {
    currWidth = viewport().width;
    currHeight = viewport().height; 

    /* ----- In page navigation Equal height starts ----- */
        if((jQuery(".rightNavigationMenuWrapper li[class^='right-link-']").length > 1) && (jQuery(window).width()>1024) ){
            setEqualHeight_CommonClass(".rightNavigationMenuWrapper li[class^='right-link-']");
        } 
    /* ----- In page navigation Equal height ends ----- */
 
    
    if (currWidth > 1180) {
        jQuery('.mmenu').removeClass('mm-slideout');
        jQuery('#Mainwrapper').removeClass('mm-slideout');
        jQuery('.mobi-menu-trigger').removeClass('active'); 
        jQuery('body').removeClass('mm-opening'); 
        jQuery('html').removeClass('mm-opening'); 
        jQuery('.mobi-menu-trigger').css('display','none');        
    }else{
        if(jQuery('.mmenu .mmenuinner .mainmegamenusection').length > 0){  
            jQuery('.mobi-menu-trigger').css('display','block');
        }else{
            jQuery('.mobi-menu-trigger').css('display','none');
        }  
    }

    if(currWidth > 1350){
        if(currHeight <= 860){            
            jQuery('body').addClass('laptop');
        }else{
            jQuery('body').removeClass('laptop');
        }
    }else if(currWidth > 1024 && currWidth <= 1350){
        if(currHeight <= 860){            
            jQuery('body').addClass('laptop');
        }else{
            jQuery('body').removeClass('laptop');
        }
    }
    
    /* -------- Home page banner video -------- */

    if (currWidth > 1366) {
        jQuery('.path-frontpage #bannerwrapper,.path-frontpage #bannerwrapper .bannerslider .banneritem,.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height',currHeight);
    }else if(currWidth <= 1366 && currWidth > 1024){       
        jQuery('.path-frontpage #bannerwrapper,.path-frontpage #bannerwrapper .bannerslider .banneritem,.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height',currHeight);
    }else if(currWidth <= 1024 && currWidth > 767){        
        jQuery('.path-frontpage #bannerwrapper,.path-frontpage #bannerwrapper .bannerslider .banneritem,.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height','auto');
        jQuery('.path-frontpage.ie11 #bannerwrapper,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height','990px');
        jQuery('.path-frontpage.ie11 #bannerwrapper,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem .banneritemsection').css('min-height','990px');
    }else{
        jQuery('.path-frontpage #bannerwrapper,.path-frontpage #bannerwrapper .bannerslider .banneritem,.path-frontpage #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height','auto');
        jQuery('.path-frontpage.ie11 #bannerwrapper,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem,.path-frontpage.ie11 #bannerwrapper .bannerslider .banneritem .banneritemsection').css('height','auto');
    }    

    if (currWidth > 1024) {
        setEqualHeight([".path-frontpage .dynamicBlock .perspectiveWrap .contentbox"]);
    }else{
        jQuery('.path-frontpage .dynamicBlock .perspectiveWrap .contentbox').css('height','auto');
    }
    if (currWidth > 991) {
        setEqualHeight([".feature-slider .seteqht"]);
        setEqualHeight([".path-frontpage .dynamicBlock .perspectiveWrap .perspectiveitemWrap"]);        
    }else{        
        jQuery('.feature-slider .seteqht').css('height','auto');
    }
    
    if (currWidth > 767) {
        
        setEqualHeight([".bodwrapper .bod-item"]);
        setEqualHeight([".path-frontpage .homenewsandsocialSection .eqhtd"]);
        setEqualHeight([".path-frontpage .StaticblockWrapper .perspectiveSection-signpost"]); 
        // setEqualHeight_CommonClass(".relatedLinksWrapper .relatedLinksWrap .relatedeq");     
        
    }else{
        jQuery('.bodwrapper .bod-item').css('height','auto');
        jQuery('.path-frontpage .dynamicBlock .perspectiveWrap .contentbox').css('height','auto');
        jQuery('.page-node-type-country .brandrows').css('height','auto');
        jQuery(".videobtn").colorbox.close();
        jQuery('.counterSection .counterWithoutSlider').each(function(e){
            if(jQuery(this).children('.counteritem').length > 1){
                jQuery(this).slick({
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    dots: true,
                    infinite: false,
                    arrows: false,
                    speed: 800
                });
            }
        });
        jQuery('.where-we-operate .countryReferenceWrapper .counterSection .counterSlider').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            dots: true,
            infinite: false,
            arrows: false,
            speed: 800,                       
        });
        
    }

    if ((currWidth >= 768) && ((currWidth <= 1024))) {
        if(jQuery('.path-frontpage .campaignWrapdfd').length == 0){
            var campaignWrapperdfd = jQuery('.path-frontpage .banneritem .campaignWrapper').html();
            jQuery('<div class="campaignWrapdfd">' + campaignWrapperdfd + '</div>').insertAfter('.path-frontpage #bannerwrapper');
        }
    }

    if ((currWidth >= 768) && ((currWidth <= 1180))) {
        if(jQuery('.path-frontpage #videoPlayer1').length > 0){
            jQuery('.path-frontpage .banneritem #videoPlayer1').attr('data-inv_fullwidthheight','false');
        }
    }

    /*==Responsive JS==*/
    if (currWidth >= 768) {
        jQuery(".where-we-operate .tabLabelswrapper .mobicurr").hide();       
        jQuery(".where-we-operate .our-global-reachWrapper .tabLabelswrapper ul.tabLabels li").click(function (event){ event.stopPropagation();  });
    }else{        
        jQuery(".where-we-operate .tabLabelswrapper ul.tabLabels").hide();
        jQuery(".where-we-operate .tabLabelswrapper .mobicurr").show();
        jQuery('.tabwrapperrr').css({'width':'50%','margin':'0 auto'});
        if(jQuery('.where-we-operate .tabLabelswrapper .mobicurr').length == 0){
            jQuery("<div class='mobicurr'></div>").insertBefore('.tabLabelswrapper .tabLabels');          
        }
        setTimeout(function(){ 
            var sdadfs = jQuery(".where-we-operate .tabLabelswrapper .tabLabels li.current").html();
            jQuery('.mobicurr').html(sdadfs);
        }, 200); 
        jQuery('.where-we-operate .tabLabelswrapper .mobicurr,.where-we-operate .tabLabelswrapper .tabLabels').wrapAll('<div class="tabwrapperrr"></div>');                
        if (jQuery('.where-we-operate .tabLabels li').length > 1) {                
            jQuery(".mobicurr").unbind().click(function (){
                if (jQuery(this).hasClass('open')) {
                    jQuery(this).removeClass("open");
                    jQuery(this).next('ul').slideUp();
                } else {
                    jQuery(this).addClass("open");
                    jQuery(this).next('ul').slideDown("slow");
                }
            });
            jQuery(".where-we-operate .our-global-reachWrapper .tabLabelswrapper ul.tabLabels li").click(function (){
                var sdadfs = jQuery(this).html();
                jQuery('.mobicurr').html(sdadfs);
                jQuery('.mobicurr').removeClass("open");
                jQuery('.mobicurr').next('ul').slideUp();
            });            
        }

        if(jQuery('.page-node-type-page .content-tabwrapper .mobicurr').length == 0){
            jQuery("<div class='mobicurr'></div>").insertBefore('.page-node-type-page .content-tabwrapper ul.tabLabels');
        }
        setTimeout(function(){ 
            var sdadffgs = jQuery(".page-node-type-page .content-tabwrapper ul.tabLabels li.current").html();
            jQuery('.mobicurr').html(sdadffgs);
        }, 200);
        jQuery(".page-node-type-page .content-tabwrapper .mobicurr").unbind().click(function (){
            if (jQuery(this).hasClass('open')) {
                jQuery(this).removeClass("open");
                jQuery(this).next('ul').slideUp();
            } else {
                jQuery(this).addClass("open");
                jQuery(this).next('ul').slideDown("slow");
            }
        });
        jQuery(".page-node-type-page .content-tabwrapper ul.tabLabels li").click(function (){
            var sdadfdfs = jQuery(this).html();
            jQuery('.mobicurr').html(sdadfdfs);
            jQuery('.mobicurr').removeClass("open");
            jQuery('.mobicurr').next('ul').slideUp();
            jQuery('.counterSection .counterWithoutSlider').slick('setPosition');
        });
        jQuery('.casestudy .titlecontainer .dropbtn').click(function (e) {
            //jQuery('.counterSection .counterWithoutSlider').slick('setPosition');
            jQuery(this).parents('.casestudywrap').find('.slick-active').trigger('click');
        });
    }

}

var bannerOn, bannerTextOn = false;

jQuery(document).ready(function () {
    
    jQuery(window).responsiveWeb({
        applyBodyClasses: true,
        applyResolution: true,
        applyPlatform: true,
        applyBrowser: true,
        applyBrowserVersion: false,
        manipulateDesign: true,
        rearrangeObjects: true
    })
});


function is_touch_device() {
    return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));
}

function getEqualHeight_great(obj1, obj2, greater) {
    jQuery(obj1).height('auto');
    jQuery(obj2).height('auto');
    if (jQuery(window).width() >= greater) {
        get_height1 = jQuery(obj1).height();
        get_height2 = jQuery(obj2).height();
        if (get_height1 > get_height2) {
            jQuery(obj1).height(get_height1);
            jQuery(obj2).height(get_height1);
        } else {
            jQuery(obj1).height(get_height2);
            jQuery(obj2).height(get_height2);
        }
    }
}

jQuery( document ).ajaxComplete(function(e){
    /* ---- country media box equal height ----- */
    /*setTimeout(function(e){
        boxEqualHeight();
    },1000);*/
    /* ---- country media box equal height ----- */
});

jQuery(window).load(function(e){
    /* ---- country media box equal height ----- */
    //boxEqualHeight();
    /* ---- country media box equal height ----- */
});

jQuery( window ).resize(function() {

    /* ---- country media box equal height ----- */
    //boxEqualHeight();
    /* ---- country media box equal height ----- */        

});

function boxEqualHeight(){

/* ------- Latest new page equal height starts ------- */
    /*if (jQuery( window ).width() > 991 && jQuery("#block-views-block-country-news-block-1 .homenewsandsocialSection .newsitem .newsWrapdetail").length) {
        setEqualHeight_CommonClass("#block-views-block-country-news-block-1 .homenewsandsocialSection .newsitem .newsWraptags");
        setEqualHeight_CommonClass("#block-views-block-country-news-block-1 .homenewsandsocialSection .newsitem .newsWraptitle");
        setEqualHeight_CommonClass("#block-views-block-country-news-block-1 .homenewsandsocialSection .newsitem .newsWrapDate");
        setEqualHeight_CommonClass("#block-views-block-country-news-block-1 .homenewsandsocialSection .newsitem .newsWrapdetail");
    }else if(jQuery( window ).width() < 991){
        jQuery(".homenewsandsocialSection .newsitem .newsWraptags").css('height','auto');
        jQuery(".homenewsandsocialSection .newsitem .newsWraptitle").css('height','auto');
        jQuery(".homenewsandsocialSection .newsitem .newsWrapDate").css('height','auto');
        jQuery(".homenewsandsocialSection .newsitem .newsWrapdetail").css('height','auto');
    }*/
/* ------- Latest new page equal height ends ------- */

    /* ------- Country page conter equal height starts ------- */
    /*if (jQuery( window ).width() > 767 && jQuery(".where-we-operate .counteritem").length) {
        setEqualHeight_CommonClass(".where-we-operate .counterpostdata");
        setEqualHeight_CommonClass(".where-we-operate .counterValue");
        setEqualHeight_CommonClass(".where-we-operate .counterDescription");
        setEqualHeight_CommonClass(".where-we-operate .counterImage");
    }*/
/*console.log('enter');
    if (jQuery( window ).width() > 767 && jQuery(".page-node-type-country .counteritem").length) {
        console.log('page node type');
        setEqualHeight_CommonClass(".page-node-type-country .counterpostdata");
        setEqualHeight_CommonClass(".page-node-type-country .counterValue");
        setEqualHeight_CommonClass(".page-node-type-country .counterDescription");
        setEqualHeight_CommonClass(".page-node-type-country .counterImage");
    }
    if (jQuery( window ).width() > 767 && (jQuery(".where-we-operate .counteritem").length || jQuery(".where-we-operate .counteritem").length)) {
        console.log('where we operate');
        setEqualHeight_CommonClass(".where-we-operate .counterpostdata");
        setEqualHeight_CommonClass(".where-we-operate .counterValue");
        setEqualHeight_CommonClass(".where-we-operate .counterDescription");
        setEqualHeight_CommonClass(".where-we-operate .counterImage");
    }*/
    /* ------- Country page conter equal height ends ------- */
}


;

(function ($) {
  var BrowserClass = {
    init: function() {
      this.classes = [];
      this.agent = navigator.userAgent.toLowerCase();
      this.checkBrowser();
      this.checkPlatform();
      if (this.isMobile(this.classes)) {
        this.classes.push('mobile');
      } else {
        this.classes.push('desktop');
      }
    },

    checkBrowser: function() {
      var matches = Array();
      var aresult = '';
      var aversion = '';
      var resultant = '';

      var iePattern = /(?:\b(ms)?ie\s+|\btrident\/7\.0;.*\s+rv:)(\d+)/;
      var ieMatch = this.agent.match(iePattern);

      if (ieMatch) {
        this.classes.push('ie');

        if (typeof ieMatch[2] !== 'undefined') {
          this.classes.push('ie' + ieMatch[2]);
        }
      }

      if (this.agent.match(/opera/)) {
        this.classes.push('opera');
        
        aresult = this.stristr(this.agent, 'version').split('/');
        if(aresult[1]) {
          aversion = aresult[1].split(' ');
          this.classes.push('opera' + this.clearVersion(aversion[0]));
        }
      }

      // Check for chrome desktop first, then chrome mobile, lastly check for
      // safari, as these are mutually exclusive.
      if (this.agent.match(/chrome/)) {
        this.classes.push('chrome');
        
        aresult = this.stristr(this.agent, 'chrome').split('/');
        aversion = aresult[1].split(' ');
        this.classes.push('chrome' + this.clearVersion(aversion[0]));
      } else if (this.agent.match(/crios/)) {
        this.classes.push('chrome');
        aresult = this.stristr(this.agent, 'crios').split('/');

        if (aresult[1]) {
          aversion = aresult[1].split(' ');
          this.classes.push('chrome' + this.clearVersion(aversion[0]));
        }
      } else if (this.agent.match(/safari/)) {
        this.classes.push('safari');
        aresult = this.stristr(this.agent, 'version').split('/');
        
        if(aresult[1]) {
          aversion = aresult[1].split(' ');
          this.classes.push('safari' + this.clearVersion(aversion[0]));
        }
      }

      if (this.agent.match(/netscape/)) {
        this.classes.push('netscape');
        
        matches = this.agent.match(/navigator\/([^ ]*)/);
        if (matches) {
          this.classes.push('netscape' + this.clearVersion(matches[1]));
        }
        else {
          matches = this.agent.match(/netscape6?\/([^ ]*)/);
          if (matches) {
            this.classes.push('netscape' + this.clearVersion(matches[1]));
          }
        }
      }

      if (this.agent.match(/firefox/)) {
        this.classes.push('ff');
        matches = this.agent.match(/firefox[\/ \(]([^ ;\)]+)/);
        if(matches) {
          this.classes.push('ff' + this.clearVersion(matches[1]));
        }
      }

      if (this.agent.match(/konqueror/)) {
        this.classes.push('konqueror');
        
        aresult = this.stristr(this.agent, 'konqueror').split(' ');
        aversion = aresult[0].split('/');
        this.classes.push('konqueror' + this.clearVersion(aversion[1]));
      }

      if (this.agent.match(/dillo/)) {
        this.classes.push('dillo');
      }

      if (this.agent.match(/chimera/)) {
        this.classes.push('chimera');
      }

      if (this.agent.match(/beonex/)) {
        this.classes.push('beonex');
      }

      if (this.agent.match(/aweb/)) {
        this.classes.push('aweb');
      }

      if (this.agent.match(/amaya/)) {
        this.classes.push('amaya');
      }

      if (this.agent.match(/icab/)) {
        this.classes.push('icab');
      }

      if (this.agent.match(/lynx/)) {
        this.classes.push('lynx');
      }

      if (this.agent.match(/galeon/)) {
        this.classes.push('galeon');
      }

      if (this.agent.match(/opera mini/)) {
        this.classes.push('operamini');
        
        resultant = this.stristr(this.agent, 'opera mini');
        if(resultant.match('/\//')) {
          aresult = resultant.split('/');
          aversion = aresult[1].split(' ');
          this.classes.push('operamini' + this.clearVersion(aversion[0]));
        }
        else {
          aversion = this.stristr(resultant, 'opera mini').split(' ');
          this.classes.push('operamini' + this.clearVersion(aversion[1]));
        }
      }
    },

    checkPlatform: function() {
      if (this.agent.match(/windows/)) {
        this.classes.push('win');
      }

      if (this.agent.match(/ipad/)) {
        this.classes.push('ipad');
      }

      if (this.agent.match(/ipod/)) {
        this.classes.push('ipod');
      }

      if (this.agent.match(/iphone/)) {
        this.classes.push('iphone');
      }

      if (this.agent.match(/mac/)) {
        this.classes.push('mac');
      }

      if (this.agent.match(/android/)) {
        this.classes.push('android');
      }

      if (this.agent.match(/linux/)) {
        this.classes.push('linux');
      }

      if (this.agent.match(/nokia/)) {
        this.classes.push('nokia');
      }

      if (this.agent.match(/blackberry/)) {
        this.classes.push('blackberry');
      }

      if (this.agent.match(/freebsd/)) {
        this.classes.push('freebsd');
      }

      if (this.agent.match(/openbsd/)) {
        this.classes.push('openbsd');
      }

      if (this.agent.match(/netbsd/)) {
        this.classes.push('netbsd');
      }
    },

    isMobile: function(classes) {
      var mobile_devices = ['ipad', 'ipod', 'iphone', 'android', 'blackberry', 'operamini'];
      var mobile_devices_test = false;

      $.each(mobile_devices, function(index, value) {
        if ($.inArray(value, classes) != -1) {
          mobile_devices_test = true;

          // Terminate the $.each() loop, since a match has been found.
          return false;
        }
      });

      if (mobile_devices_test || this.agent.match(/(up.browser|up.link|mmp|symbian|smartphone|midp|wap|vodafone|o2|pocket|kindle|mobile|pda|psp|treo)/)) {
        return true;
      }
    },
    
    clearVersion: function(version) {
      version = version.replace('/[^0-9,.,a-z,A-Z-]/', '');
      var find = (version + '').indexOf('.');
      return version.substr(0, find);
    },
    
    stristr: function(haystack, needle, bool) {
      // Finds first occurrence of a string within another, case insensitive  
      // 
      // version: 1103.1210
      // discuss at: http://phpjs.org/functions/stristr
      // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
      // +   bugfxied by: Onno Marsman
      // *     example 1: stristr('Kevin van Zonneveld', 'Van');
      // *     returns 1: 'van Zonneveld'
      // *     example 2: stristr('Kevin van Zonneveld', 'VAN', true);
      // *     returns 2: 'Kevin '
      var pos = 0;

      haystack += '';
      pos = haystack.toLowerCase().indexOf((needle + '').toLowerCase());
      if (pos == -1) {
          return false;
      } else {
          if (bool) {
              return haystack.substr(0, pos);
          } else {
              return haystack.slice(pos);
          }
      }
    }

  };

  BrowserClass.init();
  $('body').addClass(BrowserClass.classes.join(' '));
})(jQuery);
;

/*!---- gatag-----*/
var filetypes = /\.(zip.*|exe.*|dmg.*|pdf.*|doc.*|xls.*|ppt.*|mp3.*|txt.*|rar.*|wma.*|mov.*|ics.*|vcf.*|avi.*|wmv.*|flv.*|wav.*)$/i;
var baseHref = '';
if (jQuery('base').attr('href') != undefined) baseHref = jQuery('base').attr('href');
var hrefRedirect = '';
jQuery(document).ready(function(){
	gaEventTackingClickCall();
	$(document).ajaxComplete(function() {
		gaEventTackingClickCall();
	});

});

gaHitCallbackHandler = function() {
	window.location.href = hrefRedirect;
}

function gaEventTackingClickCall() {
	jQuery('body').on('click', 'a', function(event) {
		var el = jQuery(this);
		var track = true;
		var href = (typeof(el.attr('href')) != 'undefined' ) ? el.attr('href') : '';
		var host = window.location.host;
		var linkhost = this.hostname;
		//var isThisDomain = href.match(document.domain.split('.').reverse()[1] + '.' + document.domain.split('.').reverse()[0]);
		if (!href.match(/^javascript:/i)) {
			var elEv = []; elEv.value=0, elEv.non_i=false;
			if (href.match(/^mailto\:/i)) {
				elEv.category = 'email';
				elEv.action = 'click';
				elEv.label = href.replace(/^mailto\:/i, '');
				elEv.loc = href;
			}
			else if (href.match(filetypes)) {
				var extension = (/[.]/.exec(href)) ? /[^.]+$/.exec(href) : undefined;
				elEv.category = 'download';
				elEv.action = 'click-' + extension[0];
				elEv.label = href.replace(/ /g,'-');
				elEv.loc = baseHref + href;
			}
			else if (href.match(/^http(s?)\:/i) && (host != linkhost)) {
				elEv.category = 'external';
				elEv.action = 'click';
				elEv.label = href.replace(/^http(s?)\:\/\//i, '');
				//elEv.non_i = true;
				elEv.loc = href;
			}
			else if (href.match(/^tel\:/i)) {
				elEv.category = 'telephone';
				elEv.action = 'click';
				elEv.label = href.replace(/^tel\:/i, '');
				elEv.loc = href;
			}
         else if (href.match(/^#videoPlayer/)) {
				elEv.category = 'cta_video';
				elEv.action = 'click';
				elEv.label = jQuery(this).text();
				elEv.loc = href;
			}
			else track = false;
			
	    
			if (track) {
				var ret = true;
				if((elEv.category == 'external' || elEv.category == 'download') && (el.attr('target') == undefined || el.attr('target').toLowerCase() != '_blank') && (elEv.loc.search("youtube") <= 0) ) {
					hrefRedirect = elEv.loc;
					ga('send','event', elEv.category.toLowerCase(),elEv.action.toLowerCase(),elEv.label.toLowerCase(),elEv.value,{
						'nonInteraction': elEv.non_i ,
						'hitCallback':gaHitCallbackHandler
					});

					ret = false;
				}
				else {               
					ga('send','event', elEv.category.toLowerCase(),elEv.action.toLowerCase(),elEv.label.toLowerCase(),elEv.value,{
						'nonInteraction': elEv.non_i
					});
				}

				return ret;
			}
		}
	});
};
jQuery(window).load(function(e){
/* --- In page navigation starts ------- */
	if(jQuery('.rightnavigationactive').length){
		
		/* ----- On load animation starts ------ */
		jQuery('.rightnavigationactive').addClass('is-visible');
		setTimeout(function(e){
			jQuery('.rightnavigationactive').removeClass('is-visible');
		},3000);
		/* ----- On load animation ends ------ */

		/* ----- On click animation starts ------ */
		setTimeout(function(e){
			jQuery('.region-page-right-sidebar').click(function(e){
				if(!jQuery('.rightnavigationactive').hasClass('is-visible')){
					jQuery('.rightnavigationactive').addClass('is-visible');
				}
			});

			jQuery(document).click(function(e){
				if(!jQuery(e.target).is('.region-page-right-sidebar, .region-page-right-sidebar *')){
					if(jQuery('.rightnavigationactive').hasClass('is-visible')){
						jQuery('.rightnavigationactive').removeClass('is-visible');
					}
				}
			});

			jQuery(document).bind('touchstart', function(event){
/*				if(!jQuery(e.target).is('.region-page-right-sidebar, .region-page-right-sidebar *')){
					if(jQuery('.rightnavigationactive').hasClass('is-visible')){
						jQuery('.rightnavigationactive').removeClass('is-visible');
					}
				}
*/			});

		},3100);
		/* ----- On click animation ends ------ */

		/* ----- On click of anchor starts ------ */
		jQuery(".navigate-to-element").on("click",function(e){
	        e.preventDefault();
	        var _this = this;
	        jQuery(_this).closest('li').addClass('active');
	        jQuery(_this).closest('li').prevAll().addClass('active');
	        jQuery(_this).closest('li').nextAll().removeClass('active');
	        setTimeout(function(){
	            jQuery('html, body').animate({
	                scrollTop: jQuery("#"+jQuery(_this).data("element-id")).offset().top-150
	            }, 800);
	        },500);
	    });
		/* ----- On click of anchor ends ------ */

		/* ----- On hover of world icon starts ------ */
		setTimeout(function(e){
			jQuery(".world-icon").hover(
			    function(){
			        if(!jQuery('.rightnavigationactive').hasClass('is-visible')){
						jQuery('.rightnavigationactive').addClass('is-visible');
					}
			    },
			    function(){
			    }
			);
		},3100);
		/* ----- On hover of world icon ends ------ */
	}
/* --- In page navigation ends ------- */

/* --- Sustainability report pdf icon ------- */
	if(jQuery('.page-node-3321 a.pdf').length){
		jQuery('.page-node-3321 a.pdf').each(function(e){
			jQuery(this).append('<span class="link-arrow">âº</span>');
		});
	}
/* --- Sustainability report pdf icon ------- */

});

jQuery(document).ready(function(e){
	if(jQuery('.rightnavigationactive').length){

		/* ----- On scroll change current starts ------ */
		var lastScrollTop = 0, delta = 5;

		if(jQuery('.navigate-to-element').length){
			var counter = 0;
			jQuery('.navigate-to-element').each(function(e){
				var section = jQuery(this).data('element-id');
				jQuery('#'+section).addClass('section').attr('data-section',counter);
				counter++;
			});	
		}

		setTimeout(function(e){
			var wH = jQuery(window).height();
			jQuery(window).scroll(function() {
				var st = jQuery(this).scrollTop();

				if(Math.abs(lastScrollTop - st) <= delta)
          			return;

				if (st > lastScrollTop){
			       // downscroll code
			       jQuery('.section').each(function() {
			       	//console.log((jQuery(window).scrollTop() +' > '+ (jQuery(this).offset().top + jQuery(this).outerHeight() - wH)));
		                if (isScrolledIntoView(jQuery(this))) {
			                var thisId = jQuery(this).attr('id');
			                var thisVal = jQuery(this).data('section');
			                jQuery('.right-link-'+thisVal).addClass('active'); 
		                }
		            });
			   	} else {
			       // upscroll code
			       jQuery('.section').each(function() {
			       	//console.log((jQuery(window).scrollTop() +' < '+ (jQuery(this).offset().top + jQuery(this).outerHeight() - wH)));
		                if ((jQuery(window).scrollTop() < (jQuery(this).offset().top + jQuery(this).outerHeight() - wH))) {
			                var thisId = jQuery(this).attr('id');
			                var thisVal = jQuery(this).data('section');
			                jQuery('.right-link-'+thisVal).removeClass('active'); 
			                //alert('enter remove');
		                }
		            });
			   	}
			   	lastScrollTop = st;
			});

			/* ------- On refresh if scroll bar is at the bottom ----- */
			jQuery('.section').each(function() {
			    var thisId = jQuery(this).attr('id');
			    var thisVal = jQuery(this).data('section');
			    /*console.log("Element Height"+ jQuery(this).offset().top +" < Window height"+ jQuery(window).scrollTop());*/
			    if(jQuery(this).offset().top < jQuery(window).scrollTop()){
			    	jQuery('.right-link-'+thisVal).addClass('active');
			    }       
		    });
			/* ------- On refresh if scroll bar is at the bottom ----- */
			
		},0);
		/* ----- On scroll change current starts ------ */

		/* ----- Equal height starts ----- */
		if((jQuery(".rightNavigationMenuWrapper li[class^='right-link-']").length > 1) && (jQuery(window).width()>1024) ){
			setEqualHeight_CommonClass(".rightNavigationMenuWrapper li[class^='right-link-']");
		} 
		/* ----- Equal height ends ----- */
	}
});

function isScrolledIntoView(elem)
{
    var docViewTop = jQuery(window).scrollTop();
    var docViewBottom = docViewTop + jQuery(window).height();

    var elemTop = jQuery(elem).offset().top;
    var elemBottom = elemTop + jQuery(elem).height();

    return ((elemBottom >= docViewTop) && (elemTop <= docViewBottom));
}
;
var speed = 2.4;
$window = jQuery(window);
var winWid = $window.width();

jQuery(window).load(function(){

    /* ---------- Banner Image ends ------------ */
    if(jQuery('.region-banner .banneritem').length){
        jQuery('.region-banner .banneritem').each(function(){
            var $bgobj = jQuery(this); // assigning the object
            jQuery(window).scroll(function() {
                var yPos = (jQuery(window).scrollTop() / speed); 
                var coords = '50% '+ yPos + 'px';
                //$bgobj.not('.exclude').css({ backgroundPosition: coords });
            }); 
        });
    }
    /* ---------- Banner Image starts ------------ */    

    /* ---------- Full page image starts ------------ */   
    if(jQuery('.imagevideoboxfull.full_image').length){
        jQuery('.imagevideoboxfull.full_image').each(function(){
            var $bgobj = jQuery(this);
            var bg = jQuery(this).css('background-image').replace(/^url\(["']?/, '').replace(/["']?\)$/, '');
            var tmpImg = new Image();
            tmpImg.src = bg;
            tmpImg.onload = function(ev) {
                var orgW = tmpImg.width;
                var orgH = tmpImg.height; 
                var imgResizedRatio = winWid/orgW;
                var resizedH = orgH * imgResizedRatio;
                var btmOffset =  (resizedH - $bgobj.height()) + $bgobj.offset().top;
                if((tmpImg.height - 100) > $bgobj.height()){
                    if((tmpImg.width) < winWid){
                        $bgobj.addClass('bg-cover');
                    }
                    jQuery(window).scroll(function() {
                        if(jQuery(window).scrollTop() > $bgobj.offset().top && jQuery(window).scrollTop() < btmOffset){
                            var yPos = -(($window.scrollTop()-$bgobj.offset().top) / speed); 
                            var coords = '0 '+ yPos + 'px';
                            $bgobj.css({ backgroundPosition: coords });
                        } else if(jQuery(window).scrollTop() < $bgobj.offset().top) {
                            $bgobj.css({ backgroundPosition: '0 0' });
                        }
                    }); 
                }else{
                    $bgobj.addClass('bg-cover');
                }
            }
        });
    }
    /* ---------- Full page image ends ------------ */

    /* ---------- Moduel 2.2 starts ------------ */   
    if(jQuery('.fullwrap.withimage').length){
        jQuery('.fullwrap.withimage').each(function(){
            var $bgobj = jQuery(this);
            var bg = jQuery(this).css('background-image').replace(/^url\(["']?/, '').replace(/["']?\)$/, '');
            var tmpImg = new Image();
            tmpImg.src = bg;
            tmpImg.onload = function(ev) {
                var orgW = tmpImg.width;
                var orgH = tmpImg.height; 
                var imgResizedRatio = winWid/orgW;
                var resizedH = orgH * imgResizedRatio;
                var btmOffset =  (resizedH - $bgobj.height()) + $bgobj.offset().top;
                if((tmpImg.height - 100) > $bgobj.height()){
                    if((tmpImg.width) < winWid){
                        $bgobj.addClass('bg-cover');
                    }
                    jQuery(window).scroll(function() {
                        if(jQuery(window).scrollTop() > $bgobj.offset().top && jQuery(window).scrollTop() < btmOffset){
                            var yPos = -(($window.scrollTop()-$bgobj.offset().top) / speed); 
                            var coords = '0 '+ yPos + 'px';
                            $bgobj.css({ backgroundPosition: coords });
                        } else if(jQuery(window).scrollTop() < $bgobj.offset().top) {
                            $bgobj.css({ backgroundPosition: '0 0' });
                        }
                    }); 
                }else{
                    $bgobj.addClass('bg-cover');
                }
            }
            
        });
    }
    /* ---------- Moduel 2.2 ends ------------ */ 

    /* ---------- Moduel 8.1 starts ------------ */   
    if(jQuery('.containerfull .box-bg-image').length){
        jQuery('.containerfull .box-bg-image').each(function(){
            var $bgobj = jQuery(this);
            if(jQuery(this).closest('.leftContent').length || jQuery(this).closest('.rightContent').length){
                jQuery(this).addClass('bg-cover');
            }else{
                var bg = jQuery(this).css('background-image').replace(/^url\(["']?/, '').replace(/["']?\)$/, '');
                var tmpImg = new Image();
                tmpImg.src = bg;
                tmpImg.onload = function(ev) {
                    var orgW = tmpImg.width;
                    var orgH = tmpImg.height; 
                    var imgResizedRatio = winWid/orgW;
                    var resizedH = orgH * imgResizedRatio;
                    var btmOffset =  (resizedH - $bgobj.height()) + $bgobj.offset().top;
                    if((tmpImg.height - 100) > $bgobj.height()){
                        if((tmpImg.width) < winWid){
                            $bgobj.addClass('bg-cover');
                        }
                        jQuery(window).scroll(function() {
                            if(jQuery(window).scrollTop() > $bgobj.offset().top && jQuery(window).scrollTop() < btmOffset){
                                var yPos = -(($window.scrollTop()-$bgobj.offset().top) / speed); 
                                var coords = '0 '+ yPos + 'px';
                                $bgobj.css({ backgroundPosition: coords });
                            } else if(jQuery(window).scrollTop() < $bgobj.offset().top) {
                                //$bgobj.css({ backgroundPosition: '0 0' });
                            }
                        }); 
                    }else{
                        $bgobj.addClass('bg-cover');
                    }
                }
            }
        });
    }
    /* ---------- Moduel 8.1 ends ------------ */ 

});;

jQuery(document).ready(function(e){

	/* ------- view megamenu js starts  ---------- */
	if(jQuery('#views-megamenu-right-three-box').length && jQuery(window).width() > 1180){
		//jQuery('.campaign-body-3419').addClass('open');
		jQuery('.headerwrapper .views-image-wrapper').first().addClass('open');
		jQuery('.menu-campaign-link-item').on('mouseenter', function(e){
			var EleID = jQuery(this).data('id');
			jQuery('.views-image-wrapper').removeClass('open');
			jQuery('.'+EleID).addClass('open');
			jQuery('.views-image-wrapper').removeClass('hoverlink-active');
			jQuery('.'+EleID).addClass('hoverlink-active');
		});
		jQuery('.menu-campaign-link-item').on('mouseleave', function(e){
			var EleID = jQuery(this).data('id');
			jQuery('.'+EleID).removeClass('hoverlink-active');
		});
		jQuery('.views-image-wrapper').on('mouseenter', function(e){
			jQuery(this).addClass('hoverlink-active');
		});
		jQuery('.views-image-wrapper').on('mouseleave', function(e){
			jQuery(this).removeClass('hoverlink-active');
		});
	} else{
		jQuery('.snap-open').click(function(e){
			if(jQuery(this).parent().hasClass('active')){
				jQuery(this).parent().next().slideUp('slow');
				jQuery(this).parent().removeClass('active');
			}else{
				jQuery('.snap-open').parent().removeClass('active');
				jQuery('.snap-open').parent().next().slideUp('slow');
				jQuery(this).parent().addClass('active');
				jQuery(this).parent().next().slideDown('slow');
			}
		});
		//jQuery('.views-image-wrapper-title.count1 .snap-open').trigger('click');
	}
	adjustLeftMargin();
	/* ------- view megamenu js ends ---------- */

	/* ------ localization stars -------- */
	
	if(jQuery('#edit-language').length){
	//	jQuery('#edit-language').niceSelect();
	}
	if(jQuery('#edit-country--2').length){
	//	jQuery('#edit-country--2').niceSelect();
	}

	if(jQuery('#block-localizationmenublock--2  .changeCountryText').length){
		jQuery('#block-localizationmenublock--2 .changeCountryText').click(function(e){
			if(jQuery(this).hasClass('open')){
				jQuery('#block-localizationmenublock--2 .form-item-country').slideUp('slow');
				jQuery(this).removeClass('open');
			}else{
				jQuery(this).addClass('open');
				jQuery('#block-localizationmenublock--2 .form-item-country').slideDown('slow');
			}
		});
	}

	if(jQuery('.your-location-message').length && jQuery(window).width() > 1180){

		jQuery('.your-location-message').click(function(e){
			if(jQuery(this).closest('.localization-menu-form').hasClass('open')){
				jQuery(this).closest('.localization-menu-form').removeClass('open');
				jQuery('#block-localizationmenublock #edit-country-form').fadeOut('slow');
			}else{
				jQuery(this).closest('.localization-menu-form').addClass('open');
				jQuery('#block-localizationmenublock #edit-country-form').fadeIn('slow');
			}
		});

		jQuery('.close-localization').click(function(e){
			if(jQuery(this).closest('.localization-menu-form').hasClass('open')){
				jQuery(this).closest('.localization-menu-form').removeClass('open');
				jQuery('#block-localizationmenublock #edit-country-form').fadeOut('slow');
			}
		});
		
		jQuery('.topwrap').click(function(event) { 
			if(!jQuery(event.target).closest('.localization-menu-form').length) {
		        if(jQuery('.localization-menu-form').is(":visible")) {
		            jQuery('.localization-menu-form').removeClass('open');
					jQuery('#block-localizationmenublock #edit-country-form').fadeOut('slow');
		        }
		    }        
		});
		jQuery(document).click(function(event) { 
		    if(!jQuery(event.target).closest('.localization-menu-form').length) {
		        if(jQuery('.localization-menu-form').is(":visible,.flyoutWrapper .flyout .flyoutcontent .yourcountry a")) {
		            jQuery('.localization-menu-form').removeClass('open');
					jQuery('#block-localizationmenublock #edit-country-form').fadeOut('slow');
		        }
		    }        
		});
	}

	/* ------ localization ends -------- */

	/* ----- development page --------- */

	if(jQuery('#edit-language--2').length){
	//	jQuery('#edit-language--2').niceSelect();
	}
	if(jQuery('#edit-country--3').length){
	//	jQuery('#edit-country--3').niceSelect();
	}

	if(jQuery('#block-localizationmenublock  .changeCountryText').length){
		jQuery('#block-localizationmenublock .changeCountryText').click(function(e){
			if(jQuery(this).hasClass('open')){
				jQuery('#block-localizationmenublock .form-item-country').slideUp('slow');
				jQuery(this).removeClass('open');
			}else{
				jQuery(this).addClass('open');
				jQuery('#block-localizationmenublock .form-item-country').slideDown('slow');
			}
		});
	}
	/* ----- development page --------- */

});

/* --------- our view mega menu left margin starts ---------------- */

jQuery(window).load(function(e){
	adjustLeftMargin();
});

jQuery(window).resize(function(e){
	adjustLeftMargin();
});

function adjustLeftMargin(){
	if(jQuery('.news-views-megamenu-left-box').length && jQuery(window).width() > 1180){
		var marginLeft = jQuery('.headerwrapper .logo').offset().left;
		jQuery('.news-views-megamenu-left-box .type-of-block').css('margin-left',marginLeft);
	}
}
/* --------- our view mega menu left margin ends ---------------- */


/* --------- hash tag Deeplinking starts ----------- */

/*jQuery(window).load(function(e){
	if( window.location.hash ) {
		var hashValue = window.location.hash;
		if( jQuery(hashValue).length ){
			jQuery('html,body').animate({
				scrollTop: jQuery(hashValue).offset().top - (jQuery('#header').outerHeight() + 50)
			}, "slow");
		}
	}
});*/
/* --------- hash tag Deeplinking ends ----------- */;
jQuery(document).ready(function($) {
    $('.page-node-type-perspective-stories #miappi-frame').parents(".container").addClass("container-fluid");
    $('.page-node-type-perspective-stories #miappi-frame').parents(".container-fluid").removeClass("container");
    
    /* -------- Country page related document content wrap starts -------- */

    /* -------- Add for related doc -------- */
    jQuery("#block-views-block-related-document-block-1 .field--name-field-document-file .file-link a").text('');
    jQuery("#block-views-block-related-document-block-1 .field--name-field-document-title").append('<div class="relatedDocumentDescription"><span class="relatedDocumentExtension">PDF</span><span class="size"> </span></div>');
    
    jQuery('#block-views-block-related-document-block-1 .field--name-field-document-tags .field--item a').each(function(){
      
        jQuery('#block-views-block-related-document-block-1 .field--name-field-document-tags .field--item a').addClass('tag-perspectiveFilter-Link');

        var relatedLinkurl = jQuery(this).data('href');
        
        var relatedLinkurlArr = relatedLinkurl.split("/");
        jQuery(this).attr("href","/our-views#t="+relatedLinkurlArr[3]+"");
        //jQuery(this).attr("tagfilterid",relatedLinkurlArr[3]);
        jQuery(this).data("tagfilterid",relatedLinkurlArr[3]);

    });
    /* -------- End -------- */

    relatedDocumentContentWrap();
    $( document ).ajaxStop(function() {
        relatedDocumentContentWrap();
    });
    /* -------- Country page related document content wrap ends -------- */
   
});
jQuery( window ).load(function() {
   /* --- Banner issue --- */
   jQuery('.campaignWrapdfd:contains("undefined")').hide();

    var isAndroid = navigator.userAgent.toLowerCase().indexOf("android");
    var isChrome = navigator.userAgent.toLowerCase().indexOf("chrome");
    if((isAndroid > -1) && (isChrome > -1)) {
        if (navigator.connection.saveData === true) {
            // jQuery('.videoicon').removeClass('hidden');
            jQuery(".videoicon").removeClass("hidden");
        }
    }

});
function relatedDocumentContentWrap(){
    if ($(window).width() > 767) {
        jQuery('.view-related-document .related-documents .field-collection-item--name-field-related-document .content').each(function() {
            jQuery(this).children('.field').not(':first-child').wrapAll('<div style="display:table" class="fc-container"></div>');
        });
    }
}

function setEqualHeight_Class(arr) {
    var x = new Array([]);
    jQuery(arr).each(function(i) {
        jQuery(this).height('auto');
        x[i] = jQuery(this).height();
    });
    Max_Value = Array.max(x);
    jQuery(arr).each(function(i) {
        jQuery(this).height(Max_Value);
    });
};
// JavaScript Document/* ----- imagesLoaded Fn Starts ------ */

(function(c, n) {
    var l = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
    c.fn.imagesLoaded = function(f) {
        function m() {
            var b = c(i),
                a = c(h);
            d && (h.length ? d.reject(e, b, a) : d.resolve(e));
            c.isFunction(f) && f.call(g, e, b, a)
        }

        function j(b, a) {
            b.src === l || -1 !== c.inArray(b, k) || (k.push(b), a ? h.push(b) : i.push(b), c.data(b, "imagesLoaded", {
                isBroken: a,
                src: b.src
            }), o && d.notifyWith(c(b), [a, e, c(i), c(h)]), e.length === k.length && (setTimeout(m), e.unbind(".imagesLoaded")))
        }
        var g = this,
            d = c.isFunction(c.Deferred) ? c.Deferred() :
            0,
            o = c.isFunction(d.notify),
            e = g.find("img").add(g.filter("img")),
            k = [],
            i = [],
            h = [];
        c.isPlainObject(f) && c.each(f, function(b, a) {
            if ("callback" === b) f = a;
            else if (d) d[b](a)
        });
        e.length ? e.bind("load.imagesLoaded error.imagesLoaded", function(b) {
            j(b.target, "error" === b.type)
        }).each(function(b, a) {
            var d = a.src,
                e = c.data(a, "imagesLoaded");
            if (e && e.src === d) j(a, e.isBroken);
            else if (a.complete && a.naturalWidth !== n) j(a, 0 === a.naturalWidth || 0 === a.naturalHeight);
            else if (a.readyState || a.complete) a.src = l, a.src = d
        }) : m();
        return d ? d.promise(g) :
            g
    }
})($);

/* ----- imagesLoaded Fn ends ------ */

/*--------Equal height plugin starts-----------*/
;
(function($) {
    var defaults = {
        waitforimages: true,
        waitforfonts: false,
        areSiblings: true,
        commonParent: ''
    }; // default settings
    $.fn.getSameTopGroups = function(options, callback) {
        //var settings = {};
        if ($(this).length < 1) {
            return false;
        }
        var settings = $.extend(true, {}, defaults, options);
        var $element = $(this);
        //$element['settings'] = $.extend(true, {}, defaults, options)
        var winEvents = false;
        var totElements = 0;
        var reload = function(isInit, $elementObj, groupCounter) {
            var parentWidth;
            if ($(settings.commonParent).length > 0) {
                if (settings.commonParent === '') {
                    parentWidth = getStyle($element.first().parent()[0], 'width');
                } else {
                    parentWidth = getStyle($element.first().closest(settings.commonParent)[0], 'width');
                }
            } else {
                return false;
            }
            if (isInit) {
                totElements = $element.length;
                $element.removeClass('gg-taken');
                $element.removeClass(function(index, css) {
                    return (css.match(/\bgg-g-\S+/g) || []).join(' ');
                });
                $elementObj = $element.first();
                var groupCounter = 1;
                var childWidth = getOuterWidthWithMargin($elementObj, true);
                $elementObj.addClass('gg-taken gg-g-' + groupCounter);
                --totElements;
                if (totElements === 0) {
                    callback(groupCounter);
                }
            } else {
                --totElements;
                childWidth = getOuterWidthWithMargin($elementObj, true);
                $elementObj.addClass('gg-taken gg-g-' + groupCounter);
                if (totElements === 0) {
                    callback(groupCounter);
                }
            }
            $element.not('.gg-taken').each(function(index) {
                childWidth = childWidth + getOuterWidthWithMargin($(this), true);
                if (Math.floor(childWidth) > Math.floor(parentWidth)) {
                    childWidth = childWidth - getOuterWidthWithMargin($(this), true);
                    ++groupCounter;
                    reload(false, $(this), groupCounter);
                    return false;
                } else {
                    $(this).addClass('gg-taken gg-g-' + groupCounter);
                    --totElements;
                }
                if (totElements === 0) {
                    callback(groupCounter);
                }
            });
        };
        var timeOut;
        var resFun = function() {
            clearTimeout(timeOut);
            timeOut = setTimeout(function() {
                reload(true);
            }, 300);
        };
        $element.reGroup = function() {
            $element = $($element['selector']);
            reload(true);
        };
        $(window).bind('load', function() {
            reload(true);
        });
        $(document).bind('ajaxStop', function() {
            $element = $($element['selector']);
            $('.hometwitter').height('auto');
            reload(true);
        });
        $(window).bind('resize', resFun);
        return $element;
    };
    var getStyle = function(el, prop) {
        if (getComputedStyle !== 'undefined') {
            return parseFloat(getComputedStyle(el, null).getPropertyValue(prop));
        } else {
            return parseFloat(el.currentStyle[prop]);
        }
    };
    var getOuterWidthWithMargin = function(el, isBorderBox) {
        if (!isBorderBox)
            return getStyle(el[0], 'margin-left') + getStyle(el[0], 'margin-right') + getStyle(el[0], 'padding-left') + getStyle(el[0], 'padding-right') + getStyle(el[0], 'width');
        else
            return getStyle(el[0], 'margin-left') + getStyle(el[0], 'margin-right') + getStyle(el[0], 'width');
    };
})($);
/*--------Equal height plugin Ends-----------*/

var ContactBoxes,
    latestNews,
    additionalLatestNews,
    EqualHeight,
    counterEqualHeight,
    counterEqualHeight_forslider,
    countryNewsItem,
    relatedDocumentItem,
    perspectiveItem,
    caseStudyEqHt,
    relatedLReq;

$(document).ready(function(){

    /* ---- Equal height starts --------- */

    perspectiveSection();
    contactBoxEqualHeight();
    latestNewsCountry();
    if($('.view-id-related_document').length){
        relatedDocumentModule();
    }
    additionalNewsCountry();

    if($('.campaignStoriesWrapper.perspectiveSection').length){
        $('.view-perspective-list .perspectiveitem').getSameTopGroups({
            commonParent: '.perspectiveWrapper'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .perspectiveitemWrap");
            }
        });
    }

    if($('.jticorpmodule-realted-link .relatedeq').length){
        relatedLReq = $('.jticorpmodule-realted-link .relatedeq').getSameTopGroups({
            commonParent: '.relatedLinksWrap'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + ".relatedeq");
            }
        });
    }

    if($(".view-news-releases").length){
        latestNews = $('.homenewsandsocialSection.news .newsItemWrapper').getSameTopGroups({
            commonParent: '.row'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .newsWraptags");
                setEqualHeight_CommonClass(".gg-g-" + i + " .newsWraptitle");
                setEqualHeight_CommonClass(".gg-g-" + i + " .newsWrapDate");
                setEqualHeight_CommonClass(".gg-g-" + i + " .newsWrapdetail");
                setEqualHeight_CommonClass(".gg-g-" + i + " .newsitem");
                setEqualHeight_CommonClass(".gg-g-" + i + ".newsItemWrapper");
            }
        });
    }

    if($(".campaignContentSectionWrapper").length){
        EqualHeight = $('.campaignContentSectionWrapper .EqualHeight').getSameTopGroups({
            commonParent: '.row'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + ".EqualHeight");
            }
        });
    }

    if($(".jticorpmodule-casestudy .eqHt").length){
        caseStudyEqHt = $('.jticorpmodule-casestudy .eqHt').getSameTopGroups({
            commonParent: '.jticorpmodule-casestudy .titlecontainer'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + ".eqHt");
            }
        });
    }

    if($(".quoteitem.twocolwrap.withimage").length){
        $('.quoteitem.twocolwrap.withimage .quoteitemsection').getSameTopGroups({
            commonParent: '.quoteitem.twocolwrap.withimage'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + ".quoteitemsection");
            }
        });
    }

    if($(".counterWrapper .counterWithoutSlider").length){
        counterEqualHeightFunction();
    }
    if($(".counterWrapper .countereqht").length){
        counterEqualHeightFunction_forslider();
    }

    /* ---- Equal height ends ----- */

});

$(window).load(function(){

    /* ---- Related links module Starts --------- */
    if($(".jticorpmodule-realted-link .relatedeq").length){
        if (relatedLReq && typeof relatedLReq !== 'undefined') {
            relatedLReq.reGroup();
        }
    }
    /* ---- Related links module Ends --------- */

    /* ---- News and room contact boxes Starts --------- */
    if($(".view-news-releases").length){
        if (latestNews && typeof latestNews !== 'undefined') {
            latestNews.reGroup();
        }
    }
    /* ---- News and room contact boxes ends --------- */

    /* ---- Campaign page starts --------- */
    if($(".campaignContentSectionWrapper").length){
        if (EqualHeight && typeof EqualHeight !== 'undefined') {
            EqualHeight.reGroup();
        }
    }
    /* ---- Campaign page ends --------- */


    /* ---- Counters starts --------- */
    if($(".counterWrapper .counterWithoutSlider").length){
        if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
            counterEqualHeight.reGroup();
        }
    }
    if($(".counterWrapper .countereqht").length){
        if (counterEqualHeight_forslider && typeof counterEqualHeight_forslider !== 'undefined') {
            counterEqualHeight_forslider.reGroup();
        }
    }
    /* ---- Counter ends --------- */

});

$( document ).ajaxStop(function() {
    setTimeout(function(e){

        /* ---- News and room contact boxes ends --------- */
        if($(".view-news-releases").length){
            if (latestNews && typeof latestNews !== 'undefined') {
                latestNews.reGroup();
            }
        }
        /* ---- News and room contact boxes ends --------- */

        /* ---- Campaign page starts --------- */
        if($(".campaignContentSectionWrapper").length){
            if (EqualHeight && typeof EqualHeight !== 'undefined') {
                EqualHeight.reGroup();
            }else{
                CampaignEqualHeight();
            }
        }else if($('.CampaignEqualHeight').length){
            CampaignEqualHeight();
        }
        /* ---- Campaign page ends --------- */

        /* ---- Counters starts --------- */
        if($(".counterWrapper .counterWithoutSlider").length){
            if (counterEqualHeight && typeof counterEqualHeight !== 'undefined') {
                counterEqualHeight.reGroup();
            }else{
                counterEqualHeightFunction();
            }
        }
        if($(".counterWrapper .countereqht").length){
            if (counterEqualHeight_forslider && typeof counterEqualHeight_forslider !== 'undefined') {
                counterEqualHeight_forslider.reGroup();
            }else{
                counterEqualHeightFunction_forslider();
            }
        }
        /* ---- Counters ends --------- */

        perspectiveSection();

    },2000);
});

function perspectiveSection(){
    if($('.view-perspective-list .perspectiveSection').length){
        perspectiveItem = $('.view-perspective-list .perspectiveitem').getSameTopGroups({
            commonParent: '.perspectiveSection'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .perspectiveitemWrap");
            }
        });
    }
}

function contactBoxEqualHeight(){
    if($('.view-local-press-contact .views-row').length){
        ContactBoxes = $('.view-local-press-contact .views-row').getSameTopGroups({
            commonParent: '.view-local-press-contact .view-content'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .customrelatedcontentbox");
            }
        });
    }
}

function latestNewsCountry(){
    if($('.view-id-country_news .newsWrap').length){
        countryNewsItem = $('.view-id-country_news .newsitem').getSameTopGroups({
            commonParent: '.view-id-country_news .newsWrap'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + ".view-id-country_news .newsWrap");
                setEqualHeight_CommonClass(".gg-g-" + i + ".view-id-country_news .newsWrap .newsitem");
                setEqualHeight_CommonClass(".gg-g-" + i + ".view-id-country_news .newsWrap .newsWrapdetail");
            }
        });
    }
}

function additionalNewsCountry(){
    
    if($('.additional-news').length){
        additionalLatestNews = $('.additional-news .newsitem').getSameTopGroups({
            commonParent: '.additional-news .newsWrapAdd'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .field-collection-item--name-field-additional-pdfs");
            }
        });
    }
}

function relatedDocumentModule(){
    if($('.view-id-related_document').length){
        relatedDocumentItem = $('.view-id-related_document .related-documents').getSameTopGroups({
            commonParent: '.view-id-related_document .view-content'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                setEqualHeight_CommonClass(".gg-g-" + i + " .views-field-field-related-document");
            }
        });
    }
}

function CampaignEqualHeight(){
    EqualHeight = $('.campaignContentSectionWrapper .EqualHeight').getSameTopGroups({
        commonParent: '.row'
    }, function(gc) {
        for (i = 1; i <= gc; i++) {
            setEqualHeight_CommonClass(".gg-g-" + i + ".EqualHeight");
        }
    });
}

function counterEqualHeightFunction_forslider(){
    counterEqualHeight_forslider = $('.countereqht .counteritem').getSameTopGroups({
        commonParent: '.countereqht'
    }, function(gc) {
        for (i = 1; i <= gc; i++) {
            setEqualHeight_CommonClass(".gg-g-" + i + " .counterpostdata");
            setEqualHeight_CommonClass(".gg-g-" + i + " .counterValue");
            setEqualHeight_CommonClass(".gg-g-" + i + " .counterDescription");
            setEqualHeight_CommonClass(".gg-g-" + i + " .counterImage");
        }
    });
}

function counterEqualHeightFunction(){
    if($(window).width() > 767){
        counterEqualHeight = $('.counterWithoutSlider .counteritem:not(.excludeEqualheight .counteritem)').getSameTopGroups({
            commonParent: '.counterWithoutSlider'
        }, function(gc) {
            for (i = 1; i <= gc; i++) {
                if($('.productitem').length){
                    setEqualHeight_CommonClass(".gg-g-" + i + " .logoImage");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .productDescription");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .productImage");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .counterLink");
                    setEqualHeight_CommonClass(".gg-g-" + i + ".counteritem");
                }else{
                    setEqualHeight_CommonClass(".gg-g-" + i + " .counterpostdata");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .counterValue");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .counterDescription");
                    setEqualHeight_CommonClass(".gg-g-" + i + " .counterImage");
                    setEqualHeight_CommonClass(".gg-g-" + i + ".counteritem");
                }
            }
        });
    }
}
;
