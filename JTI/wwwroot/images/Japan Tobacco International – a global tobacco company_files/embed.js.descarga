!(function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)})([(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(1).run(window,window._mpi_user)}),(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2);t.run=function(e,t,o,i,r,a,s,l,c){void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===l&&(l="mpi-public-form-trigger"),void 0===c&&(c="");var d,u=e.document,f=(e.location.hash.replace(/\/?#\//,""),e.navigator.userAgent.toLowerCase()),p=/trident/gi.test(f)||/msie/gi.test(f);void 0!==e._mpi_lazy_load&&(i=p||e._mpi_lazy_load),void 0!==e._mpi_lazy_load_image&&(a=e._mpi_lazy_load_image),void 0!==e._mpi_insert&&(s=e._mpi_insert),"string"==typeof e._mpi_publicform_trigger&&(l=e._mpi_publicform_trigger);var m="";"string"==typeof e._mpi_embed_css&&e._mpi_embed_css.length>0&&(m=e._mpi_embed_css||"");var h,g,y,b,v,w,_="";function E(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}"string"==typeof e._mpi_embed_stylesheet&&e._mpi_embed_stylesheet.length>0&&(_=e._mpi_embed_stylesheet||""),"string"==typeof e._mpi_customisation&&""!==e._mpi_customisation&&(c=e._mpi_customisation);var O=!1;function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(O&&"undefined"!=typeof console&&void 0!==e&&"object"==typeof e){for(var o=[],n=0;n<e.length;n++)o[n]=e[n];if("string"==typeof o[0]&&"function"==typeof console[o[0]]){var i=o.splice(0,1);console[i].apply(console,o)}}}try{e.navigator.userAgent.match("SLOG")&&(O=!0,k("log","Logging enabled"))}catch(e){}if(O||(O="object"==typeof e&&e&&"object"==typeof e.location&&e.location&&"string"==typeof e.location.search&&e.location.search&&null!==e.location.search.match(/(\?|&)mpidebug=1/))&&k("log","Logging enabled via GET"),t&&t.match(/^[a-z0-9]{1,}$/i)){var L=u.getElementById("miappi-frame");if(null!==L){var j=u.getElementById("_mpi_js_embed_script");null!==j?((j=j.src||j.getAttribute("src"))&&j.match(/\//)&&(j=(j=j.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/))[2]),null!==j.match(/:4201$/)&&(j=j.replace(":4201",":4200"))):j="";var P=j||"showcase.miappi.com",M=!1,x=e.addEventListener?"addEventListener":"attachEvent",A=(e[x],e.location.protocol&&e.location.protocol.match(/^http(s)?:/i)?e.location.protocol:"http:"),S=!1,C=0,z=!1,T=!1;k("log","embed.js : listening for resize messages");var N=0,H=0,I=!1,B=!1;if(k("log","embed.js : watching for scrollbar / resize"),$(),(function(){var e=A+"//"+P+"/popup/"+t,o=u.createElement("iframe");o.target="_parent",o.id="popup-iframe",o.src=e,o.width="100%",o.height="100%",o.style.seamless=!0,o.style.allowtransparency=!0,o.style.borderWidth=0,o.style.frameBorder=0,o.style.padding=0,o.style.overflow="hidden",o.style.width="100%",o.style.height="100%",o.style.top="0",o.style.left="0",o.style.position="fixed",o.style.zIndex=1e4,o.style.display="none",y=o,u.getElementsByTagName("body")[0].appendChild(o),(v=n.build({window:y.contentWindow,origin:"*",scope:"main"})).bind("getSettings",(function(e){setTimeout((function(){e.complete(G())}),400),e.delayReturn(!0)})),v.bind("closePopupOutside",(function(e,t){b.call({method:"closedPopupOutside",success:function(){}}),y.style.display="none",u.body.style.overflow="auto",I&&K()})),v.bind("getPreviousPostOutside",(function(e,t){!(function(e,t){b.call({method:"getPreviousPostOutside",params:t,success:function(t){e.complete(t)}}),e.delayReturn(!0)})(e,t)})),v.bind("getNextPostOutside",(function(e,t){!(function(e,t){b.call({method:"getNextPostOutside",params:t,success:function(t){e.complete(t)}}),e.delayReturn(!0)})(e,t)}))})(),l){var R=u.getElementsByClassName(l);if(R)for(var D="attachEvent"===x?"onclick":"click",J=R.length-1;J>=0;J--)R[J][x](D,(function(){b.call({method:"callPublicForm",params:t,success:function(){}})}))}e.addEventListener?(e.addEventListener("DOMContentLoaded",$,!1),e.addEventListener("load",$,!1),e.addEventListener("scroll",$,!1),e.addEventListener("resize",$,!1)):e.attachEvent&&(e.attachEvent("onDOMContentLoaded",$),e.attachEvent("onload",$),e.attachEvent("onscroll",$),e.attachEvent("onresize",$))}else o&&alert("Missing required element miappi-frame")}else o&&alert("Missing required letiable mpiUser (or it is invalid)");function $(t){if(k("log","onVisibilityChange",S,t),!S&&void 0!==t)return C&&clearTimeout(C),k("log","embed.js : onVisibilityChange : waiting for embed to come into view"),void(C=setTimeout((function(){$()}),1e3));var o=u.getElementById("miappi-iframe"),n=u.getElementById("miappi-frame");if(n){n.scrollHeight;var r=e.innerHeight,a=(function(){var e=u;Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)}(),e.scrollY||e.pageYOffset,n.getBoundingClientRect().top);if(!S)if(k("log","embed.js : lazy_load : "+i+"("+typeof i+")"),"boolean"==typeof i)i?r-a>0&&a<r&&q("on visible"):q("on startup");else if("number"==typeof i)w||(w=setTimeout((function(){q("time delay")}),1e3*i));else{var s="mpiLazyLoad must be set to 'true','false' or 1,2,3 etc (delay in seconds)";alert(s),k("error",s),q()}void 0!==o&&null!=o||setTimeout((function(){$()}),1e3)}}function Y(e){var t="function"==typeof u.location.hostname.match&&u.location.hostname.match(/preview\.miappi/);return t&&"function"==typeof e&&e(),t}function q(o){k("log","embed.js : create_iframe : "+o);var i=u.createElement("div"),a=u.createElement("iframe"),l=u.createElement("div"),c="";(d=G()).feeds&&(c+="?feeds="+d.feeds),r?a.setAttribute("src",A+"//"+P+"/embed/"+t+"/"+r+c):a.setAttribute("src",A+"//"+P+"/embed/"+t+c),a.setAttribute("id","miappi-iframe"),a.setAttribute("seamless","true"),a.setAttribute("allowtransparency","true"),a.setAttribute("allow","autoplay"),a.target="_blank",a.style.borderWidth=0,a.style.frameBorder=0,a.style.padding=0,a.style.overflow="hidden",a.style.width="100%",a.style.height="100%",a.style.display="block",i.style.overflow="hidden",i.style.height="100%",l.className+="miappi-scroll-container",l.style.overflow="hidden",l.style.height="calc(100% - 30px)",Y((function(){l.style.height="100%",L.style.height="100%",a.style.minHeight="100%"})),L.style.overflow="hidden",L.appendChild(i),i.appendChild(l),l.appendChild(a),g=a,h=l,(b=n.build({window:g.contentWindow,origin:"*",scope:"main"})).bind("getParentInfo",(function(t){e.scrollY,t.complete({windowH:e.innerHeight,frameH:u.getElementById("miappi-frame").clientHeight,offset:u.getElementById("miappi-frame").offsetTop,scrolled:e.scrollY})})),b.bind("scrollToPost",(function(e){e.complete(!0)})),b.bind("scrollParent",(function(t,o){e.scrollBy(0,o.value),t.complete(!0)})),b.bind("updateHeight",(function(e,t){var o;t.height?(o=t.height,N!==o&&(N=o,g.style.height=o+"px")):g.style.height="calc(100% - 5px)",e.complete(!0)})),b.bind("openLink",(function(t,o){o.url&&e.open(o.url,"_blank").focus()})),b.bind("getSettings",(function(e){setTimeout((function(){e.complete(G())}),400),e.delayReturn(!0)})),b.bind("getPublicformCustomizations",(function(t){t.complete(function(){var t=e._mpi_publicform_customizations;return t&&"object"==typeof t?t:{}}())})),b.bind("addPoweredByLink",(function(e,t){!(function(e){if(!Y()){var t="object"==typeof e&&null!==e?e:{},o="mpi-powered-by-a",n=t.id||"miappi";if(!M&&null===u.getElementById(o)&&n.match(/^(?:miappi|feedlamp\-com)$/)){var i=u.createElement("a");i.id=o,i.target="_blank",i.href="//miappi.com",i.text="feedlamp-com"===n?"A Miappi Company":"Powered by "+(t.name||"Miappi"),i.style.float="right",i.style.display="inline-block",i.style.padding=".5em 1em",i.style.clear="both",i.style.color="#999999",i.style["text-decoration"]="none",i.style["font-size"]="80%",L.appendChild(i),M=!0}}})(t.whitelabel)})),b.bind("setUserData",(function(e,t){v.call({method:"getUserData",params:t,success:function(){}})})),b.bind("getHost",(function(t){return e.location&&e.location.host||""})),b.bind("setScrollbarType",(function(t,o){Z(o.scrollbar)&&(Y()&&(L.style.height="inherit",L.style.display="table"),e.addEventListener("scroll",X),z=!0,"SCROLL_EXPAND"===o.scrollbar&&(W(),T=!0,U()))})),b.bind("embedOptimiser",(function(e,t){var o=t&&"object"==typeof t?t:{};if(L.style.removeProperty&&Z(o.scrollbar)){var n=(L.style||{}).height||"";null!==n.match(/^[0-9]+[a-z]+$/i)&&L.style.removeProperty("height")}e.complete(!0)})),b.bind("setPopupHeight",(function(e,t){var o=N-H,n=t.height+50;z&&o<n&&(g.style.height=N+n-o+"px")})),b.bind("updateBackgroundImage",(function(e,t){!(function(e){e&&(h.style.backgroundImage="url("+e+")",h.style.backgroundPosition="center",h.style.backgroundAttachment="fixed",h.style.backgroundSize="cover")})(t.backgroundImage)})),b.bind("initialRenderCompleted",(function(e){!(function(){if(!B&&g&&"object"==typeof g&&void 0!==g.className){var e=g.className.slice(0);e&&e.length>0&&(e+=" "),e+="mpi-embed-widget-rendered",g.className=e,B=!0}})()})),b.bind("initialRenderDimensions",(function(e,t){var o=t.height,n=t.width;!(function(e,t){s&&g&&"object"==typeof g&&"function"==typeof g.setAttribute&&(e&&g.setAttribute("data-layout-height",e),t&&g.setAttribute("data-layout-width",t))})(o,n)})),b.bind("popupOpened",(function(t){T&&z&&e.removeEventListener("scroll",U),z&&b.notify({method:"setOffset",params:{offset:H}})})),b.bind("popupClosed",(function(e){T&&z&&W(),z&&(g.style.height=N+"px"),I&&K()})),b.bind("openPopupOutside",(function(e,t){v.call({method:"openPopupOutside",params:t,success:function(){V()}}),I&&F(t.username,t.network,t.postId)})),b.bind("openOverlayOutside",(function(e,t){v.call({method:"openOverlayOutside",params:t,success:function(){V()}})})),b.bind("embedVideo",(function(t,o){!(function(t){e.embed_youtube(t)})(o)})),b.bind("updateDeepLink",(function(e,t){F(t.username,t.network,t.postId)})),b.bind("enableDeepLink",(function(){I=!0})),S=!0}function U(){var e=u.documentElement&&u.documentElement.scrollTop||u.body.scrollTop;u.body.scrollHeight-e-u.documentElement.clientHeight<2*u.documentElement.clientHeight&&b.notify({method:"nextPage"})}function W(){e.addEventListener("scroll",U)}function X(){var t=u.documentElement&&u.documentElement.scrollTop||u.body.scrollTop,o=(function(t){var o=t.getBoundingClientRect(),n=u.body,i=u.documentElement,r=e.pageYOffset||i.scrollTop||n.scrollTop,a=e.pageXOffset||i.scrollLeft||n.scrollLeft,s=i.clientTop||n.clientTop||0,l=i.clientLeft||n.clientLeft||0,c=o.top+r-s,d=o.left+a-l;return{top:Math.round(c),left:Math.round(d)}})(h);H=t<o.top?0:t-o.top}function V(e,t,o){y.style.display="block",u.body.style.overflow="hidden"}function G(){for(var t={},o=0;o<L.attributes.length;o++){var n=L.attributes[o].name;null!=n.match(/^data-/)&&(t[E(n.replace("data-",""))]=L.getAttribute(n))}t.host=e.location&&e.location.host||"";var i=e.location.hash.match(/#?mpi-([a-zA-Z]+)-([0-9]+)$/);return null!=i&&3===i.length&&(t.deepLinkNavigation={network:i[1],postId:i[2]}),t.mpiLazyLoadImage=a,t.mpiInsert=s,t.mpiEmbedCss=m,t.mpiEmbedStylesheet=_,t.mpiCustomisation=c,t}function Z(e){return"LOAD_MORE_EXPAND"===e||"SCROLL_EXPAND"===e}function F(e,t,o){t&&void 0!==t&&o&&void 0!==o&&(u.location.hash&&null==u.location.hash.match(/^#mpi-[a-z]+-[0-9]+$/)||(u.location.hash="mpi-"+t+"-"+o))}function K(){u.location.hash.match(/^#mpi-[a-z]+-[0-9]+$/)&&history.replaceState("",u.title,e.location.pathname)}}}),(function(e,t,o){var n=(function(){"use strict";var e=Math.floor(1000001*Math.random()),t={};function o(e){return Array.isArray?Array.isArray(e):-1!=e.constructor.toString().indexOf("Array")}var n={},i=function(e){try{var o=JSON.parse(e.data);if("object"!=typeof o||null===o)throw"malformed"}catch(e){return}var i,r,a,s=e.source,l=e.origin;if("string"==typeof o.method){var c=o.method.split("::");2==c.length?(i=c[0],a=c[1]):a=o.method}if(void 0!==o.id&&(r=o.id),"string"==typeof a){var d=!1;if(t[l]&&t[l][i])for(var u=0;u<t[l][i].length;u++)if(t[l][i][u].win===s){t[l][i][u].handler(l,a,o),d=!0;break}if(!d&&t["*"]&&t["*"][i])for(u=0;u<t["*"][i].length;u++)if(t["*"][i][u].win===s){t["*"][i][u].handler(l,a,o);break}}else void 0!==r&&n[r]&&n[r](l,a,o)};return window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent&&window.attachEvent("onmessage",i),{build:function(i){var r=function(e){if(i.debugOutput&&window.console&&window.console.log){try{"string"!=typeof e&&(e=JSON.stringify(e))}catch(e){}console.log("["+l+"] "+e)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof i)throw"Channel build invoked without a proper object argument";if(!i.window||!i.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===i.window)throw"target window is same as present window -- not allowed";var a,s=!1;"string"==typeof i.origin&&("*"===i.origin?s=!0:null!==(a=i.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(i.origin=a[0].toLowerCase(),s=!0));if(!s)throw"Channel.build() called with an invalid origin";if(void 0!==i.scope){if("string"!=typeof i.scope)throw"scope, when specified, must be a string";if(i.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var l=(function(){for(var e="",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=0;o<5;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e})(),c={},d={},u={},f=!1,p=[],m=function(e,t,a){if("function"==typeof i.gotMessageObserver)try{i.gotMessageObserver(e,a)}catch(e){r("gotMessageObserver() raised an exception: "+e.toString())}if(a.id&&t){if(c[t]){var s=(function(e,t,o){var n=!1,i=!1;return{origin:t,invoke:function(t,n){if(!u[e])throw"attempting to invoke a callback of a nonexistent transaction: "+e;for(var i=!1,r=0;r<o.length;r++)if(t===o[r]){i=!0;break}if(!i)throw"request supports no such callback '"+t+"'";g({id:e,callback:t,params:n})},error:function(t,o){if(i=!0,!u[e])throw"error called for nonexistent message: "+e;delete u[e],g({id:e,error:t,message:o})},complete:function(t){if(i=!0,!u[e])throw"complete called for nonexistent message: "+e;delete u[e],g({id:e,result:t})},delayReturn:function(e){return"boolean"==typeof e&&(n=!0===e),n},completed:function(){return i}}})(a.id,e,a.callbacks?a.callbacks:[]);u[a.id]={};try{if(a.callbacks&&o(a.callbacks)&&a.callbacks.length>0)for(var l=0;l<a.callbacks.length;l++){for(var f=a.callbacks[l],p=a.params,m=f.split("/"),h=0;h<m.length-1;h++){var y=m[h];"object"!=typeof p[y]&&(p[y]={}),p=p[y]}p[m[m.length-1]]=(function(){var e=f;return function(t){return s.invoke(e,t)}})()}var b=c[t](s,a.params);s.delayReturn()||s.completed()||s.complete(b)}catch(e){var v="runtime_error",w=null;if("string"==typeof e?w=e:"object"==typeof e&&(e&&o(e)&&2==e.length?(v=e[0],w=e[1]):"string"==typeof e.error&&(v=e.error,e.message?"string"==typeof e.message?w=e.message:e=e.message:w="")),null===w)try{void 0===(w=JSON.stringify(e))&&(w=e.toString())}catch(t){w=e.toString()}s.error(v,w)}}}else a.id&&a.callback?d[a.id]&&d[a.id].callbacks&&d[a.id].callbacks[a.callback]?d[a.id].callbacks[a.callback](a.params):r("ignoring invalid callback, id:"+a.id+" ("+a.callback+")"):a.id?d[a.id]?(a.error?(0,d[a.id].error)(a.error,a.message):void 0!==a.result?(0,d[a.id].success)(a.result):(0,d[a.id].success)(),delete d[a.id],delete n[a.id]):r("ignoring invalid response: "+a.id):t&&c[t]&&c[t]({origin:e},a.params)};!(function(e,o,n,i){function r(t){for(var o=0;o<t.length;o++)if(t[o].win===e)return!0;return!1}var a=!1;if("*"===o){for(var s in t)if(t.hasOwnProperty(s)&&"*"!==s&&"object"==typeof t[s][n]&&(a=r(t[s][n])))break}else t["*"]&&t["*"][n]&&(a=r(t["*"][n])),!a&&t[o]&&t[o][n]&&(a=r(t[o][n]));if(a)throw"A channel is already bound to the same window which overlaps with origin '"+o+"' and has scope '"+n+"'";"object"!=typeof t[o]&&(t[o]={}),"object"!=typeof t[o][n]&&(t[o][n]=[]),t[o][n].push({win:e,handler:i})})(i.window,i.origin,"string"==typeof i.scope?i.scope:"",m);var h=function(e){return"string"==typeof i.scope&&i.scope.length&&(e=[i.scope,e].join("::")),e},g=function(e,t){if(!e)throw"postMessage called with null message";if(r((f?"post  ":"queue ")+" message: "+JSON.stringify(e)),t||f){if("function"==typeof i.postMessageObserver)try{i.postMessageObserver(i.origin,e)}catch(e){r("postMessageObserver() raised an exception: "+e.toString())}i.window.postMessage(JSON.stringify(e),i.origin)}else p.push(e)},y={unbind:function(e){if(c[e]){if(!delete c[e])throw"can't delete method: "+e;return!0}return!1},bind:function(e,t){if(!e||"string"!=typeof e)throw"'method' argument to bind must be string";if(!t||"function"!=typeof t)throw"callback missing from bind params";if(c[e])throw"method '"+e+"' is already bound!";return c[e]=t,this},call:function(t){if(!t)throw"missing arguments to call function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to call must be string";if(!t.success||"function"!=typeof t.success)throw"'success' callback missing from call";var o={},i=[],r=[],a=function(e,t){if(r.indexOf(t)>=0)throw"params cannot be a recursive data structure";if(r.push(t),"object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var s=e+(e.length?"/":"")+n;"function"==typeof t[n]?(o[s]=t[n],i.push(s),delete t[n]):"object"==typeof t[n]&&null!==t[n]&&a(s,t[n])}};a("",t.params);var s={id:e,method:h(t.method),params:t.params};i.length&&(s.callbacks=i),t.timeout&&(function(e,t,o){window.setTimeout((function(){if(d[e]){var i="timeout ("+t+"ms) exceeded on method '"+o+"'";(0,d[e].error)("timeout_error",i),delete d[e],delete n[e]}}),t)})(e,t.timeout,h(t.method)),d[e]={callbacks:o,error:t.error,success:t.success},n[e]=m,e++,g(s)},notify:function(e){if(!e)throw"missing arguments to notify function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to notify must be string";g({method:h(e.method),params:e.params})},destroy:function(){!(function(e,o,n){for(var i=t[o][n],r=0;r<i.length;r++)i[r].win===e&&i.splice(r,1);0===t[o][n].length&&delete t[o][n]})(i.window,i.origin,"string"==typeof i.scope?i.scope:""),window.removeEventListener?window.removeEventListener("message",m,!1):window.detachEvent&&window.detachEvent("onmessage",m),f=!1,c={},u={},d={},i.origin=null,p=[],r("channel destroyed"),l=""}};return y.bind("__ready",(function(e,t){if(r("ready msg received"),f)throw"received ready message while in ready state.  help!";for(l+="ping"===t?"-R":"-L",y.unbind("__ready"),f=!0,r("ready msg accepted."),"ping"===t&&y.notify({method:"__ready",params:"pong"});p.length;)g(p.pop());"function"==typeof i.onReady&&i.onReady(y)})),setTimeout((function(){g({method:h("__ready"),params:"ping"},!0)}),0),y}}})();e.exports=n})]);